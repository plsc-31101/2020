<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 17 Collecting Data from the Web | PLSC 31101: Computational Tools for Social Science</title>
  <meta name="description" content="This book contains course notes and other materials for PLSC 31101." />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 17 Collecting Data from the Web | PLSC 31101: Computational Tools for Social Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://rochelleterman.github.io/plsc-31101/" />
  
  <meta property="og:description" content="This book contains course notes and other materials for PLSC 31101." />
  <meta name="github-repo" content="rochelleterman/plsc-31101" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 17 Collecting Data from the Web | PLSC 31101: Computational Tools for Social Science" />
  
  <meta name="twitter:description" content="This book contains course notes and other materials for PLSC 31101." />
  

<meta name="author" content="Rochelle Terman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="programming-in-r.html"/>
<link rel="next" href="text-analysis.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PLSC 31101</a></li>

<li class="divider"></li>
<li class="part"><span><b>I Before Class</b></span></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i><b>1.1</b> Course Description</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#who-should-take-this-course"><i class="fa fa-check"></i><b>1.2</b> Who should take this course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#requirements-and-evaluation"><i class="fa fa-check"></i><b>1.3</b> Requirements and Evaluation</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#activities-and-materials"><i class="fa fa-check"></i><b>1.4</b> Activities and Materials</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#curriculum-outline-schedule"><i class="fa fa-check"></i><b>1.5</b> Curriculum Outline / Schedule</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a><ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#r"><i class="fa fa-check"></i><b>2.1</b> R</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#r-studio"><i class="fa fa-check"></i><b>2.2</b> R Studio</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#r-packages"><i class="fa fa-check"></i><b>2.3</b> R Packages</a></li>
<li class="chapter" data-level="2.4" data-path="installation.html"><a href="installation.html#latex"><i class="fa fa-check"></i><b>2.4</b> LaTex</a></li>
<li class="chapter" data-level="2.5" data-path="installation.html"><a href="installation.html#the-bash-shell"><i class="fa fa-check"></i><b>2.5</b> The Bash Shell</a></li>
<li class="chapter" data-level="2.6" data-path="installation.html"><a href="installation.html#git"><i class="fa fa-check"></i><b>2.6</b> Git</a></li>
<li class="chapter" data-level="2.7" data-path="installation.html"><a href="installation.html#other-helpful-tools"><i class="fa fa-check"></i><b>2.7</b> Other helpful tools</a></li>
<li class="chapter" data-level="2.8" data-path="installation.html"><a href="installation.html#testing-your-installation"><i class="fa fa-check"></i><b>2.8</b> Testing your installation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="homework-rubric.html"><a href="homework-rubric.html"><i class="fa fa-check"></i><b>3</b> Homework Rubric</a></li>
<li class="part"><span><b>II Course Notes</b></span></li>
<li class="chapter" data-level="4" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>4</b> Introduction</a><ul>
<li class="chapter" data-level="4.1" data-path="introduction.html"><a href="introduction.html#the-motivation"><i class="fa fa-check"></i><b>4.1</b> The Motivation</a></li>
<li class="chapter" data-level="4.2" data-path="introduction.html"><a href="introduction.html#about-this-class"><i class="fa fa-check"></i><b>4.2</b> About This Class</a></li>
<li class="chapter" data-level="4.3" data-path="introduction.html"><a href="introduction.html#learning-how-to-program"><i class="fa fa-check"></i><b>4.3</b> Learning How to Program</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>5</b> R Basics</a><ul>
<li class="chapter" data-level="5.1" data-path="r-basics.html"><a href="r-basics.html#what-is-r"><i class="fa fa-check"></i><b>5.1</b> What is R?</a></li>
<li class="chapter" data-level="5.2" data-path="r-basics.html"><a href="r-basics.html#rstudio"><i class="fa fa-check"></i><b>5.2</b> RStudio</a><ul>
<li class="chapter" data-level="5.2.1" data-path="r-basics.html"><a href="r-basics.html#console"><i class="fa fa-check"></i><b>5.2.1</b> Console</a></li>
<li class="chapter" data-level="5.2.2" data-path="r-basics.html"><a href="r-basics.html#scripts"><i class="fa fa-check"></i><b>5.2.2</b> Scripts</a></li>
<li class="chapter" data-level="5.2.3" data-path="r-basics.html"><a href="r-basics.html#running-code"><i class="fa fa-check"></i><b>5.2.3</b> Running Code</a></li>
<li class="chapter" data-level="5.2.4" data-path="r-basics.html"><a href="r-basics.html#comments"><i class="fa fa-check"></i><b>5.2.4</b> Comments</a></li>
<li class="chapter" data-level="5.2.5" data-path="r-basics.html"><a href="r-basics.html#diagnostics-and-errors"><i class="fa fa-check"></i><b>5.2.5</b> Diagnostics and errors</a></li>
<li class="chapter" data-level="5.2.6" data-path="r-basics.html"><a href="r-basics.html#errors-messages-and-warnings"><i class="fa fa-check"></i><b>5.2.6</b> Errors, Messages, and Warnings</a></li>
<li class="chapter" data-level="5.2.7" data-path="r-basics.html"><a href="r-basics.html#r-environment"><i class="fa fa-check"></i><b>5.2.7</b> R Environment</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="r-basics.html"><a href="r-basics.html#r-packages-1"><i class="fa fa-check"></i><b>5.3</b> R Packages</a><ul>
<li class="chapter" data-level="5.3.1" data-path="r-basics.html"><a href="r-basics.html#installing-packages"><i class="fa fa-check"></i><b>5.3.1</b> Installing Packages</a></li>
<li class="chapter" data-level="5.3.2" data-path="r-basics.html"><a href="r-basics.html#loading-packages"><i class="fa fa-check"></i><b>5.3.2</b> Loading Packages</a></li>
<li class="chapter" data-level="5.3.3" data-path="r-basics.html"><a href="r-basics.html#challenge"><i class="fa fa-check"></i><b>5.3.3</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="r-basics.html"><a href="r-basics.html#r-markdown"><i class="fa fa-check"></i><b>5.4</b> R Markdown</a><ul>
<li class="chapter" data-level="5.4.1" data-path="r-basics.html"><a href="r-basics.html#yaml-header"><i class="fa fa-check"></i><b>5.4.1</b> YAML Header</a></li>
<li class="chapter" data-level="5.4.2" data-path="r-basics.html"><a href="r-basics.html#markdown"><i class="fa fa-check"></i><b>5.4.2</b> Markdown</a></li>
<li class="chapter" data-level="5.4.3" data-path="r-basics.html"><a href="r-basics.html#code-chunks"><i class="fa fa-check"></i><b>5.4.3</b> Code Chunks</a></li>
<li class="chapter" data-level="5.4.4" data-path="r-basics.html"><a href="r-basics.html#knitting"><i class="fa fa-check"></i><b>5.4.4</b> Knitting</a></li>
<li class="chapter" data-level="5.4.5" data-path="r-basics.html"><a href="r-basics.html#r-chunk-options-for-knitting"><i class="fa fa-check"></i><b>5.4.5</b> R Chunk Options for Knitting</a></li>
<li class="chapter" data-level="5.4.6" data-path="r-basics.html"><a href="r-basics.html#cheatsheets-and-other-resources"><i class="fa fa-check"></i><b>5.4.6</b> Cheatsheets and Other Resources</a></li>
<li class="chapter" data-level="5.4.7" data-path="r-basics.html"><a href="r-basics.html#challenges"><i class="fa fa-check"></i><b>5.4.7</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="r-syntax.html"><a href="r-syntax.html"><i class="fa fa-check"></i><b>6</b> R Syntax</a><ul>
<li class="chapter" data-level="6.1" data-path="r-syntax.html"><a href="r-syntax.html#variables"><i class="fa fa-check"></i><b>6.1</b> Variables</a><ul>
<li class="chapter" data-level="6.1.1" data-path="r-syntax.html"><a href="r-syntax.html#arithmetic"><i class="fa fa-check"></i><b>6.1.1</b> Arithmetic</a></li>
<li class="chapter" data-level="6.1.2" data-path="r-syntax.html"><a href="r-syntax.html#assigning-variables"><i class="fa fa-check"></i><b>6.1.2</b> Assigning Variables</a></li>
<li class="chapter" data-level="6.1.3" data-path="r-syntax.html"><a href="r-syntax.html#variable-names"><i class="fa fa-check"></i><b>6.1.3</b> Variable Names</a></li>
<li class="chapter" data-level="6.1.4" data-path="r-syntax.html"><a href="r-syntax.html#challenges-1"><i class="fa fa-check"></i><b>6.1.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="r-syntax.html"><a href="r-syntax.html#functions"><i class="fa fa-check"></i><b>6.2</b> Functions</a><ul>
<li class="chapter" data-level="6.2.1" data-path="r-syntax.html"><a href="r-syntax.html#arguments"><i class="fa fa-check"></i><b>6.2.1</b> Arguments</a></li>
<li class="chapter" data-level="6.2.2" data-path="r-syntax.html"><a href="r-syntax.html#store-function-output"><i class="fa fa-check"></i><b>6.2.2</b> Store Function Output</a></li>
<li class="chapter" data-level="6.2.3" data-path="r-syntax.html"><a href="r-syntax.html#argument-restrictions-and-defaults"><i class="fa fa-check"></i><b>6.2.3</b> Argument Restrictions and Defaults</a></li>
<li class="chapter" data-level="6.2.4" data-path="r-syntax.html"><a href="r-syntax.html#documentation-and-help-files"><i class="fa fa-check"></i><b>6.2.4</b> Documentation and Help Files</a></li>
<li class="chapter" data-level="6.2.5" data-path="r-syntax.html"><a href="r-syntax.html#challenges-2"><i class="fa fa-check"></i><b>6.2.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="r-syntax.html"><a href="r-syntax.html#data-types"><i class="fa fa-check"></i><b>6.3</b> Data Types</a><ul>
<li class="chapter" data-level="6.3.1" data-path="r-syntax.html"><a href="r-syntax.html#what-is-that-type"><i class="fa fa-check"></i><b>6.3.1</b> What Is that Type?</a></li>
<li class="chapter" data-level="6.3.2" data-path="r-syntax.html"><a href="r-syntax.html#coercion"><i class="fa fa-check"></i><b>6.3.2</b> Coercion</a></li>
<li class="chapter" data-level="6.3.3" data-path="r-syntax.html"><a href="r-syntax.html#other-objects"><i class="fa fa-check"></i><b>6.3.3</b> Other Objects</a></li>
<li class="chapter" data-level="6.3.4" data-path="r-syntax.html"><a href="r-syntax.html#challenges-3"><i class="fa fa-check"></i><b>6.3.4</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html"><i class="fa fa-check"></i><b>7</b> Data Classes and Structures</a><ul>
<li class="chapter" data-level="7.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#vectors"><i class="fa fa-check"></i><b>7.1</b> Vectors</a><ul>
<li class="chapter" data-level="7.1.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-vectors"><i class="fa fa-check"></i><b>7.1.1</b> Creating Vectors</a></li>
<li class="chapter" data-level="7.1.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-a-vector"><i class="fa fa-check"></i><b>7.1.2</b> Naming a Vector</a></li>
<li class="chapter" data-level="7.1.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#calculations-on-vectors"><i class="fa fa-check"></i><b>7.1.3</b> Calculations on Vectors</a></li>
<li class="chapter" data-level="7.1.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#types-of-vectors"><i class="fa fa-check"></i><b>7.1.4</b> Types of Vectors</a></li>
<li class="chapter" data-level="7.1.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#coercion-1"><i class="fa fa-check"></i><b>7.1.5</b> Coercion</a></li>
<li class="chapter" data-level="7.1.6" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-4"><i class="fa fa-check"></i><b>7.1.6</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#lists"><i class="fa fa-check"></i><b>7.2</b> Lists</a><ul>
<li class="chapter" data-level="7.2.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-lists"><i class="fa fa-check"></i><b>7.2.1</b> Creating Lists</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-lists"><i class="fa fa-check"></i><b>7.2.2</b> Naming Lists</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#list-structure"><i class="fa fa-check"></i><b>7.2.3</b> List Structure</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-5"><i class="fa fa-check"></i><b>7.2.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#factors"><i class="fa fa-check"></i><b>7.3</b> Factors</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-factors"><i class="fa fa-check"></i><b>7.3.1</b> Creating Factors</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#summarizing-a-factor"><i class="fa fa-check"></i><b>7.3.2</b> Summarizing a Factor</a></li>
<li class="chapter" data-level="7.3.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#changing-factor-levels"><i class="fa fa-check"></i><b>7.3.3</b> Changing Factor Levels</a></li>
<li class="chapter" data-level="7.3.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#factors-are-integers"><i class="fa fa-check"></i><b>7.3.4</b> Factors are Integers</a></li>
<li class="chapter" data-level="7.3.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-6"><i class="fa fa-check"></i><b>7.3.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrices"><i class="fa fa-check"></i><b>7.4</b> Matrices</a><ul>
<li class="chapter" data-level="7.4.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-matrices"><i class="fa fa-check"></i><b>7.4.1</b> Creating Matrices</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrix-dimensions"><i class="fa fa-check"></i><b>7.4.2</b> Matrix Dimensions</a></li>
<li class="chapter" data-level="7.4.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#matrix-names"><i class="fa fa-check"></i><b>7.4.3</b> Matrix Names</a></li>
<li class="chapter" data-level="7.4.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenge-1"><i class="fa fa-check"></i><b>7.4.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#dataframes"><i class="fa fa-check"></i><b>7.5</b> Dataframes</a><ul>
<li class="chapter" data-level="7.5.1" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#creating-dataframes"><i class="fa fa-check"></i><b>7.5.1</b> Creating Dataframes</a></li>
<li class="chapter" data-level="7.5.2" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#the-structure-of-dataframes"><i class="fa fa-check"></i><b>7.5.2</b> The Structure of Dataframes</a></li>
<li class="chapter" data-level="7.5.3" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#naming-dataframes"><i class="fa fa-check"></i><b>7.5.3</b> Naming Dataframes</a></li>
<li class="chapter" data-level="7.5.4" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#coercing-dataframes"><i class="fa fa-check"></i><b>7.5.4</b> Coercing Dataframes</a></li>
<li class="chapter" data-level="7.5.5" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#challenges-7"><i class="fa fa-check"></i><b>7.5.5</b> Challenges</a></li>
<li class="chapter" data-level="7.5.6" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#quiz"><i class="fa fa-check"></i><b>7.5.6</b> Quiz</a></li>
<li class="chapter" data-level="7.5.7" data-path="data-classes-and-structures.html"><a href="data-classes-and-structures.html#data-structure-answers"><i class="fa fa-check"></i><b>7.5.7</b> Answers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="subsetting.html"><a href="subsetting.html"><i class="fa fa-check"></i><b>8</b> Subsetting</a><ul>
<li class="chapter" data-level="8.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-vectors"><i class="fa fa-check"></i><b>8.1</b> Subsetting Vectors</a><ul>
<li class="chapter" data-level="8.1.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-types"><i class="fa fa-check"></i><b>8.1.1</b> Subsetting Types</a></li>
<li class="chapter" data-level="8.1.2" data-path="subsetting.html"><a href="subsetting.html#conditional-subsetting"><i class="fa fa-check"></i><b>8.1.2</b> Conditional Subsetting</a></li>
<li class="chapter" data-level="8.1.3" data-path="subsetting.html"><a href="subsetting.html#challenge-2"><i class="fa fa-check"></i><b>8.1.3</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="subsetting.html"><a href="subsetting.html#subsetting-lists"><i class="fa fa-check"></i><b>8.2</b> Subsetting Lists</a><ul>
<li class="chapter" data-level="8.2.1" data-path="subsetting.html"><a href="subsetting.html#with"><i class="fa fa-check"></i><b>8.2.1</b> With <code>[</code></a></li>
<li class="chapter" data-level="8.2.2" data-path="subsetting.html"><a href="subsetting.html#with-1"><i class="fa fa-check"></i><b>8.2.2</b> With <code>[[</code></a></li>
<li class="chapter" data-level="8.2.3" data-path="subsetting.html"><a href="subsetting.html#with-2"><i class="fa fa-check"></i><b>8.2.3</b> with <code>$</code></a></li>
<li class="chapter" data-level="8.2.4" data-path="subsetting.html"><a href="subsetting.html#challenge-3"><i class="fa fa-check"></i><b>8.2.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="subsetting.html"><a href="subsetting.html#subsetting-matrices"><i class="fa fa-check"></i><b>8.3</b> Subsetting Matrices</a></li>
<li class="chapter" data-level="8.4" data-path="subsetting.html"><a href="subsetting.html#subsetting-dataframes"><i class="fa fa-check"></i><b>8.4</b> Subsetting Dataframes</a><ul>
<li class="chapter" data-level="8.4.1" data-path="subsetting.html"><a href="subsetting.html#subsetting-names-and"><i class="fa fa-check"></i><b>8.4.1</b> Subsetting Names and <code>$</code></a></li>
<li class="chapter" data-level="8.4.2" data-path="subsetting.html"><a href="subsetting.html#conditional-subsetting-1"><i class="fa fa-check"></i><b>8.4.2</b> Conditional Subsetting</a></li>
<li class="chapter" data-level="8.4.3" data-path="subsetting.html"><a href="subsetting.html#list-like-and-matrix-like-subsetting"><i class="fa fa-check"></i><b>8.4.3</b> List-Like and Matrix-Like Subsetting</a></li>
<li class="chapter" data-level="8.4.4" data-path="subsetting.html"><a href="subsetting.html#challenges-8"><i class="fa fa-check"></i><b>8.4.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="subsetting.html"><a href="subsetting.html#sub-assignment"><i class="fa fa-check"></i><b>8.5</b> Sub-assignment</a><ul>
<li class="chapter" data-level="8.5.1" data-path="subsetting.html"><a href="subsetting.html#basics-of-sub-assignment"><i class="fa fa-check"></i><b>8.5.1</b> Basics of Sub-assignment</a></li>
<li class="chapter" data-level="8.5.2" data-path="subsetting.html"><a href="subsetting.html#recycling"><i class="fa fa-check"></i><b>8.5.2</b> Recycling</a></li>
<li class="chapter" data-level="8.5.3" data-path="subsetting.html"><a href="subsetting.html#applications"><i class="fa fa-check"></i><b>8.5.3</b> Applications</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="project-workflow.html"><a href="project-workflow.html"><i class="fa fa-check"></i><b>9</b> Project Workflow</a><ul>
<li class="chapter" data-level="9.1" data-path="project-workflow.html"><a href="project-workflow.html#organizing-code"><i class="fa fa-check"></i><b>9.1</b> Organizing Code</a><ul>
<li class="chapter" data-level="9.1.1" data-path="project-workflow.html"><a href="project-workflow.html#store-analyses-in-scripts-not-workspaces."><i class="fa fa-check"></i><b>9.1.1</b> Store Analyses in Scripts, Not Workspaces.</a></li>
<li class="chapter" data-level="9.1.2" data-path="project-workflow.html"><a href="project-workflow.html#working-directories-and-paths"><i class="fa fa-check"></i><b>9.1.2</b> Working Directories and Paths</a></li>
<li class="chapter" data-level="9.1.3" data-path="project-workflow.html"><a href="project-workflow.html#r-projects"><i class="fa fa-check"></i><b>9.1.3</b> R Projects</a></li>
<li class="chapter" data-level="9.1.4" data-path="project-workflow.html"><a href="project-workflow.html#file-organization"><i class="fa fa-check"></i><b>9.1.4</b> File Organization</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="project-workflow.html"><a href="project-workflow.html#importing-and-exporting"><i class="fa fa-check"></i><b>9.2</b> Importing and Exporting</a><ul>
<li class="chapter" data-level="9.2.1" data-path="project-workflow.html"><a href="project-workflow.html#wheres-my-data"><i class="fa fa-check"></i><b>9.2.1</b> Where's my data?</a></li>
<li class="chapter" data-level="9.2.2" data-path="project-workflow.html"><a href="project-workflow.html#data-storage"><i class="fa fa-check"></i><b>9.2.2</b> Data Storage</a></li>
<li class="chapter" data-level="9.2.3" data-path="project-workflow.html"><a href="project-workflow.html#importing-data"><i class="fa fa-check"></i><b>9.2.3</b> Importing Data</a></li>
<li class="chapter" data-level="9.2.4" data-path="project-workflow.html"><a href="project-workflow.html#exporting-data"><i class="fa fa-check"></i><b>9.2.4</b> Exporting Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>10</b> Data Transformation</a><ul>
<li class="chapter" data-level="10.1" data-path="data-transformation.html"><a href="data-transformation.html#introduction-to-data"><i class="fa fa-check"></i><b>10.1</b> Introduction to Data</a><ul>
<li class="chapter" data-level="10.1.1" data-path="data-transformation.html"><a href="data-transformation.html#the-gapminder-dataset"><i class="fa fa-check"></i><b>10.1.1</b> The Gapminder Dataset</a></li>
<li class="chapter" data-level="10.1.2" data-path="data-transformation.html"><a href="data-transformation.html#structure-and-dimensions"><i class="fa fa-check"></i><b>10.1.2</b> Structure and Dimensions</a></li>
<li class="chapter" data-level="10.1.3" data-path="data-transformation.html"><a href="data-transformation.html#summary-statistics"><i class="fa fa-check"></i><b>10.1.3</b> Summary statistics</a></li>
<li class="chapter" data-level="10.1.4" data-path="data-transformation.html"><a href="data-transformation.html#challenges-9"><i class="fa fa-check"></i><b>10.1.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="data-transformation.html"><a href="data-transformation.html#introduction-to-tidyverse"><i class="fa fa-check"></i><b>10.2</b> Introduction to Tidyverse</a><ul>
<li class="chapter" data-level="10.2.1" data-path="data-transformation.html"><a href="data-transformation.html#tidyverse"><i class="fa fa-check"></i><b>10.2.1</b> <code>tidyverse</code></a></li>
<li class="chapter" data-level="10.2.2" data-path="data-transformation.html"><a href="data-transformation.html#gapminder"><i class="fa fa-check"></i><b>10.2.2</b> Gapminder</a></li>
<li class="chapter" data-level="10.2.3" data-path="data-transformation.html"><a href="data-transformation.html#why-dplyr"><i class="fa fa-check"></i><b>10.2.3</b> Why <code>dplyr</code>?</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-transformation.html"><a href="data-transformation.html#dplyr-functions"><i class="fa fa-check"></i><b>10.3</b> <code>dplyr</code> Functions</a><ul>
<li class="chapter" data-level="10.3.1" data-path="data-transformation.html"><a href="data-transformation.html#select-columns-with-select"><i class="fa fa-check"></i><b>10.3.1</b> Select Columns with <code>select</code></a></li>
<li class="chapter" data-level="10.3.2" data-path="data-transformation.html"><a href="data-transformation.html#the-pipe"><i class="fa fa-check"></i><b>10.3.2</b> The Pipe</a></li>
<li class="chapter" data-level="10.3.3" data-path="data-transformation.html"><a href="data-transformation.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>10.3.3</b> Filter Rows with <code>filter</code></a></li>
<li class="chapter" data-level="10.3.4" data-path="data-transformation.html"><a href="data-transformation.html#calculate-across-groups-with-group_by"><i class="fa fa-check"></i><b>10.3.4</b> Calculate Across Groups with <code>group_by</code></a></li>
<li class="chapter" data-level="10.3.5" data-path="data-transformation.html"><a href="data-transformation.html#summarize-across-groups-with-summarize"><i class="fa fa-check"></i><b>10.3.5</b> Summarize Across Groups with <code>summarize</code></a></li>
<li class="chapter" data-level="10.3.6" data-path="data-transformation.html"><a href="data-transformation.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>10.3.6</b> Add New Variables with <code>mutate</code></a></li>
<li class="chapter" data-level="10.3.7" data-path="data-transformation.html"><a href="data-transformation.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>10.3.7</b> Arrange Rows with <code>arrange</code></a></li>
<li class="chapter" data-level="10.3.8" data-path="data-transformation.html"><a href="data-transformation.html#count-variable-quantities-with-count"><i class="fa fa-check"></i><b>10.3.8</b> Count Variable Quantities with <code>count()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="data-transformation.html"><a href="data-transformation.html#challenges-10"><i class="fa fa-check"></i><b>10.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="tidying-data.html"><a href="tidying-data.html"><i class="fa fa-check"></i><b>11</b> Tidying Data</a><ul>
<li class="chapter" data-level="11.1" data-path="tidying-data.html"><a href="tidying-data.html#wide-vs.-long-formats"><i class="fa fa-check"></i><b>11.1</b> Wide vs. Long Formats</a></li>
<li class="chapter" data-level="11.2" data-path="tidying-data.html"><a href="tidying-data.html#tidying-the-gapminder-data"><i class="fa fa-check"></i><b>11.2</b> Tidying the Gapminder Data</a></li>
<li class="chapter" data-level="11.3" data-path="tidying-data.html"><a href="tidying-data.html#tidyr-functions"><i class="fa fa-check"></i><b>11.3</b> <code>tidyr</code> Functions</a><ul>
<li class="chapter" data-level="11.3.1" data-path="tidying-data.html"><a href="tidying-data.html#gather"><i class="fa fa-check"></i><b>11.3.1</b> <code>gather</code></a></li>
<li class="chapter" data-level="11.3.2" data-path="tidying-data.html"><a href="tidying-data.html#separate"><i class="fa fa-check"></i><b>11.3.2</b> <code>separate</code></a></li>
<li class="chapter" data-level="11.3.3" data-path="tidying-data.html"><a href="tidying-data.html#spread"><i class="fa fa-check"></i><b>11.3.3</b> <code>spread</code></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="tidying-data.html"><a href="tidying-data.html#more-tidyverse"><i class="fa fa-check"></i><b>11.4</b> More <code>tidyverse</code></a></li>
<li class="chapter" data-level="11.5" data-path="tidying-data.html"><a href="tidying-data.html#challenges-11"><i class="fa fa-check"></i><b>11.5</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>12</b> Relational Data</a><ul>
<li class="chapter" data-level="12.1" data-path="relational-data.html"><a href="relational-data.html#why-relational-data"><i class="fa fa-check"></i><b>12.1</b> Why Relational Data</a></li>
<li class="chapter" data-level="12.2" data-path="relational-data.html"><a href="relational-data.html#keys"><i class="fa fa-check"></i><b>12.2</b> Keys</a></li>
<li class="chapter" data-level="12.3" data-path="relational-data.html"><a href="relational-data.html#joins"><i class="fa fa-check"></i><b>12.3</b> Joins</a></li>
<li class="chapter" data-level="12.4" data-path="relational-data.html"><a href="relational-data.html#defining-keys"><i class="fa fa-check"></i><b>12.4</b> Defining Keys</a></li>
<li class="chapter" data-level="12.5" data-path="relational-data.html"><a href="relational-data.html#duplicate-keys"><i class="fa fa-check"></i><b>12.5</b> Duplicate Keys</a></li>
<li class="chapter" data-level="12.6" data-path="relational-data.html"><a href="relational-data.html#challenges-12"><i class="fa fa-check"></i><b>12.6</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>13</b> Plotting</a><ul>
<li class="chapter" data-level="13.1" data-path="plotting.html"><a href="plotting.html#the-dataset"><i class="fa fa-check"></i><b>13.1</b> The Dataset</a></li>
<li class="chapter" data-level="13.2" data-path="plotting.html"><a href="plotting.html#r-base-graphics"><i class="fa fa-check"></i><b>13.2</b> R Base Graphics</a><ul>
<li class="chapter" data-level="13.2.1" data-path="plotting.html"><a href="plotting.html#scatter-and-line-plots"><i class="fa fa-check"></i><b>13.2.1</b> Scatter and Line Plots</a></li>
<li class="chapter" data-level="13.2.2" data-path="plotting.html"><a href="plotting.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>13.2.2</b> Histograms and Density Plots</a></li>
<li class="chapter" data-level="13.2.3" data-path="plotting.html"><a href="plotting.html#labels"><i class="fa fa-check"></i><b>13.2.3</b> Labels</a></li>
<li class="chapter" data-level="13.2.4" data-path="plotting.html"><a href="plotting.html#axis-and-size-scaling"><i class="fa fa-check"></i><b>13.2.4</b> Axis and Size Scaling</a></li>
<li class="chapter" data-level="13.2.5" data-path="plotting.html"><a href="plotting.html#graphical-parameters"><i class="fa fa-check"></i><b>13.2.5</b> Graphical Parameters</a></li>
<li class="chapter" data-level="13.2.6" data-path="plotting.html"><a href="plotting.html#annotations-reference-lines-and-legends"><i class="fa fa-check"></i><b>13.2.6</b> Annotations, Reference Lines, and Legends</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="plotting.html"><a href="plotting.html#ggplot2"><i class="fa fa-check"></i><b>13.3</b> ggplot2</a><ul>
<li class="chapter" data-level="13.3.1" data-path="plotting.html"><a href="plotting.html#grammar"><i class="fa fa-check"></i><b>13.3.1</b> Grammar</a></li>
<li class="chapter" data-level="13.3.2" data-path="plotting.html"><a href="plotting.html#anatomy-of-aes"><i class="fa fa-check"></i><b>13.3.2</b> Anatomy of <code>aes</code></a></li>
<li class="chapter" data-level="13.3.3" data-path="plotting.html"><a href="plotting.html#layers"><i class="fa fa-check"></i><b>13.3.3</b> Layers</a></li>
<li class="chapter" data-level="13.3.4" data-path="plotting.html"><a href="plotting.html#labels-1"><i class="fa fa-check"></i><b>13.3.4</b> Labels</a></li>
<li class="chapter" data-level="13.3.5" data-path="plotting.html"><a href="plotting.html#transformations-and-stats"><i class="fa fa-check"></i><b>13.3.5</b> Transformations and Stats</a></li>
<li class="chapter" data-level="13.3.6" data-path="plotting.html"><a href="plotting.html#facets"><i class="fa fa-check"></i><b>13.3.6</b> Facets</a></li>
<li class="chapter" data-level="13.3.7" data-path="plotting.html"><a href="plotting.html#putting-everything-together"><i class="fa fa-check"></i><b>13.3.7</b> Putting Everything Together</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="plotting.html"><a href="plotting.html#saving-plots"><i class="fa fa-check"></i><b>13.4</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="statistical-inferences.html"><a href="statistical-inferences.html"><i class="fa fa-check"></i><b>14</b> Statistical Inferences</a><ul>
<li class="chapter" data-level="14.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#statistical-distributions"><i class="fa fa-check"></i><b>14.1</b> Statistical Distributions</a><ul>
<li class="chapter" data-level="14.1.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#sampling-and-simulation"><i class="fa fa-check"></i><b>14.1.1</b> Sampling and Simulation</a></li>
<li class="chapter" data-level="14.1.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#random-seeds"><i class="fa fa-check"></i><b>14.1.2</b> Random Seeds</a></li>
<li class="chapter" data-level="14.1.3" data-path="statistical-inferences.html"><a href="statistical-inferences.html#challenges-13"><i class="fa fa-check"></i><b>14.1.3</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#inferences-and-regressions"><i class="fa fa-check"></i><b>14.2</b> Inferences and Regressions</a><ul>
<li class="chapter" data-level="14.2.1" data-path="statistical-inferences.html"><a href="statistical-inferences.html#statistical-tests"><i class="fa fa-check"></i><b>14.2.1</b> Statistical Tests</a></li>
<li class="chapter" data-level="14.2.2" data-path="statistical-inferences.html"><a href="statistical-inferences.html#regressions-and-linear-models"><i class="fa fa-check"></i><b>14.2.2</b> Regressions and Linear Models</a></li>
<li class="chapter" data-level="14.2.3" data-path="statistical-inferences.html"><a href="statistical-inferences.html#regression-output"><i class="fa fa-check"></i><b>14.2.3</b> Regression Output</a></li>
<li class="chapter" data-level="14.2.4" data-path="statistical-inferences.html"><a href="statistical-inferences.html#interactions"><i class="fa fa-check"></i><b>14.2.4</b> Interactions</a></li>
<li class="chapter" data-level="14.2.5" data-path="statistical-inferences.html"><a href="statistical-inferences.html#formatting-regression-tables"><i class="fa fa-check"></i><b>14.2.5</b> Formatting Regression Tables</a></li>
<li class="chapter" data-level="14.2.6" data-path="statistical-inferences.html"><a href="statistical-inferences.html#challenges-14"><i class="fa fa-check"></i><b>14.2.6</b> Challenges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>15</b> Strings and Regular Expressions</a><ul>
<li class="chapter" data-level="15.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#string-basics"><i class="fa fa-check"></i><b>15.1</b> String Basics</a><ul>
<li class="chapter" data-level="15.1.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#creating-strings"><i class="fa fa-check"></i><b>15.1.1</b> Creating Strings</a></li>
<li class="chapter" data-level="15.1.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-and-special-characters"><i class="fa fa-check"></i><b>15.1.2</b> Escape and Special Characters</a></li>
<li class="chapter" data-level="15.1.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#string-length"><i class="fa fa-check"></i><b>15.1.3</b> String length</a></li>
<li class="chapter" data-level="15.1.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#combining-strings"><i class="fa fa-check"></i><b>15.1.4</b> Combining strings</a></li>
<li class="chapter" data-level="15.1.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#subsetting-strings"><i class="fa fa-check"></i><b>15.1.5</b> Subsetting strings</a></li>
<li class="chapter" data-level="15.1.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#locales"><i class="fa fa-check"></i><b>15.1.6</b> Locales</a></li>
<li class="chapter" data-level="" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#challenges-15"><i class="fa fa-check"></i>Challenges</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>15.2</b> Regular expressions</a><ul>
<li class="chapter" data-level="15.2.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#basic-matches"><i class="fa fa-check"></i><b>15.2.1</b> Basic matches</a></li>
<li class="chapter" data-level="15.2.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-characters"><i class="fa fa-check"></i><b>15.2.2</b> Escape Characters</a></li>
<li class="chapter" data-level="15.2.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#anchors"><i class="fa fa-check"></i><b>15.2.3</b> Anchors</a></li>
<li class="chapter" data-level="15.2.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>15.2.4</b> Character classes and alternatives</a></li>
<li class="chapter" data-level="15.2.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#repetition"><i class="fa fa-check"></i><b>15.2.5</b> Repetition</a></li>
<li class="chapter" data-level="15.2.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regex-resources"><i class="fa fa-check"></i><b>15.2.6</b> Regex Resources</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#common-tools"><i class="fa fa-check"></i><b>15.3</b> Common Tools</a><ul>
<li class="chapter" data-level="15.3.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#detect-matches"><i class="fa fa-check"></i><b>15.3.1</b> Detect matches</a></li>
<li class="chapter" data-level="15.3.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extract-matches"><i class="fa fa-check"></i><b>15.3.2</b> Extract matches</a></li>
<li class="chapter" data-level="15.3.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#replacing-matches"><i class="fa fa-check"></i><b>15.3.3</b> Replacing matches</a></li>
<li class="chapter" data-level="15.3.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#splitting"><i class="fa fa-check"></i><b>15.3.4</b> Splitting</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#other-types-of-patterns"><i class="fa fa-check"></i><b>15.4</b> Other types of patterns</a><ul>
<li class="chapter" data-level="15.4.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#stringi"><i class="fa fa-check"></i><b>15.4.1</b> stringi</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#acknowledgments-3"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="programming-in-r.html"><a href="programming-in-r.html"><i class="fa fa-check"></i><b>16</b> Programming in R</a><ul>
<li class="chapter" data-level="16.1" data-path="programming-in-r.html"><a href="programming-in-r.html#conditional-flow"><i class="fa fa-check"></i><b>16.1</b> Conditional Flow</a><ul>
<li class="chapter" data-level="16.1.1" data-path="programming-in-r.html"><a href="programming-in-r.html#multiple-conditions"><i class="fa fa-check"></i><b>16.1.1</b> Multiple Conditions</a></li>
<li class="chapter" data-level="16.1.2" data-path="programming-in-r.html"><a href="programming-in-r.html#complex-statements"><i class="fa fa-check"></i><b>16.1.2</b> Complex Statements</a></li>
<li class="chapter" data-level="16.1.3" data-path="programming-in-r.html"><a href="programming-in-r.html#code-style"><i class="fa fa-check"></i><b>16.1.3</b> Code Style</a></li>
<li class="chapter" data-level="16.1.4" data-path="programming-in-r.html"><a href="programming-in-r.html#if-vs.-if_else"><i class="fa fa-check"></i><b>16.1.4</b> <code>if</code> vs. <code>if_else</code></a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="programming-in-r.html"><a href="programming-in-r.html#functions-1"><i class="fa fa-check"></i><b>16.2</b> Functions</a><ul>
<li class="chapter" data-level="16.2.1" data-path="programming-in-r.html"><a href="programming-in-r.html#why-write-functions"><i class="fa fa-check"></i><b>16.2.1</b> Why Write Functions?</a></li>
<li class="chapter" data-level="16.2.2" data-path="programming-in-r.html"><a href="programming-in-r.html#anatomy-of-a-function"><i class="fa fa-check"></i><b>16.2.2</b> Anatomy of a Function</a></li>
<li class="chapter" data-level="16.2.3" data-path="programming-in-r.html"><a href="programming-in-r.html#writing-a-function"><i class="fa fa-check"></i><b>16.2.3</b> Writing a Function</a></li>
<li class="chapter" data-level="16.2.4" data-path="programming-in-r.html"><a href="programming-in-r.html#using-a-function"><i class="fa fa-check"></i><b>16.2.4</b> Using a Function</a></li>
<li class="chapter" data-level="16.2.5" data-path="programming-in-r.html"><a href="programming-in-r.html#variable-scope"><i class="fa fa-check"></i><b>16.2.5</b> Variable Scope</a></li>
<li class="chapter" data-level="16.2.6" data-path="programming-in-r.html"><a href="programming-in-r.html#arguments-1"><i class="fa fa-check"></i><b>16.2.6</b> Arguments</a></li>
<li class="chapter" data-level="16.2.7" data-path="programming-in-r.html"><a href="programming-in-r.html#challenges-21"><i class="fa fa-check"></i><b>16.2.7</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="programming-in-r.html"><a href="programming-in-r.html#iteration"><i class="fa fa-check"></i><b>16.3</b> Iteration</a><ul>
<li class="chapter" data-level="16.3.1" data-path="programming-in-r.html"><a href="programming-in-r.html#vectorized-functions"><i class="fa fa-check"></i><b>16.3.1</b> Vectorized Functions</a></li>
<li class="chapter" data-level="16.3.2" data-path="programming-in-r.html"><a href="programming-in-r.html#for-loops"><i class="fa fa-check"></i><b>16.3.2</b> For-loops</a></li>
<li class="chapter" data-level="16.3.3" data-path="programming-in-r.html"><a href="programming-in-r.html#challenges-22"><i class="fa fa-check"></i><b>16.3.3</b> Challenges</a></li>
<li class="chapter" data-level="16.3.4" data-path="programming-in-r.html"><a href="programming-in-r.html#functional-programming-and-map"><i class="fa fa-check"></i><b>16.3.4</b> Functional Programming and <code>map</code></a></li>
<li class="chapter" data-level="16.3.5" data-path="programming-in-r.html"><a href="programming-in-r.html#challenges-23"><i class="fa fa-check"></i><b>16.3.5</b> Challenges</a></li>
<li class="chapter" data-level="16.3.6" data-path="programming-in-r.html"><a href="programming-in-r.html#scoped-verbs"><i class="fa fa-check"></i><b>16.3.6</b> Scoped Verbs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html"><i class="fa fa-check"></i><b>17</b> Collecting Data from the Web</a><ul>
<li class="chapter" data-level="17.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#introduction-1"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#web-apis"><i class="fa fa-check"></i><b>17.2</b> Web APIs</a><ul>
<li class="chapter" data-level="17.2.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#some-basic-terminology"><i class="fa fa-check"></i><b>17.2.1</b> Some Basic Terminology</a></li>
<li class="chapter" data-level="17.2.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#how-do-get-requests-work"><i class="fa fa-check"></i><b>17.2.2</b> How Do GET Requests Work?</a></li>
<li class="chapter" data-level="17.2.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#finding-apis"><i class="fa fa-check"></i><b>17.2.3</b> Finding APIs</a></li>
<li class="chapter" data-level="17.2.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#getting-api-access"><i class="fa fa-check"></i><b>17.2.4</b> Getting API Access</a></li>
<li class="chapter" data-level="17.2.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#using-apis-in-r"><i class="fa fa-check"></i><b>17.2.5</b> Using APIs in R</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#collecting-twitter-data-with-rtweet"><i class="fa fa-check"></i><b>17.3</b> Collecting Twitter Data with RTweet</a><ul>
<li class="chapter" data-level="17.3.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#setting-up-rtweet"><i class="fa fa-check"></i><b>17.3.1</b> Setting up <code>RTweet</code></a></li>
<li class="chapter" data-level="17.3.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#uchicago-political-science-prof-tweets"><i class="fa fa-check"></i><b>17.3.2</b> UChicago Political Science Prof Tweets</a></li>
<li class="chapter" data-level="17.3.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#hashtags-and-text-strings"><i class="fa fa-check"></i><b>17.3.3</b> Hashtags and Text Strings</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#writing-api-queries"><i class="fa fa-check"></i><b>17.4</b> Writing API Queries</a><ul>
<li class="chapter" data-level="17.4.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#constructing-the-api-get-request"><i class="fa fa-check"></i><b>17.4.1</b> Constructing the API GET Request</a></li>
<li class="chapter" data-level="17.4.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#parsing-the-response"><i class="fa fa-check"></i><b>17.4.2</b> Parsing the response</a></li>
<li class="chapter" data-level="17.4.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#iteration-through-results-pager"><i class="fa fa-check"></i><b>17.4.3</b> Iteration through results pager</a></li>
<li class="chapter" data-level="17.4.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#visualizing-results"><i class="fa fa-check"></i><b>17.4.4</b> Visualizing Results</a></li>
<li class="chapter" data-level="17.4.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#more-resources-1"><i class="fa fa-check"></i><b>17.4.5</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#webscraping"><i class="fa fa-check"></i><b>17.5</b> Webscraping</a><ul>
<li class="chapter" data-level="17.5.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#whats-a-website"><i class="fa fa-check"></i><b>17.5.1</b> What's a website?</a></li>
<li class="chapter" data-level="17.5.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#html"><i class="fa fa-check"></i><b>17.5.2</b> HTML</a></li>
<li class="chapter" data-level="17.5.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#css"><i class="fa fa-check"></i><b>17.5.3</b> CSS</a></li>
<li class="chapter" data-level="17.5.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#finding-elements-with-selector-gadget"><i class="fa fa-check"></i><b>17.5.4</b> Finding Elements with Selector Gadget</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#scraping-presidential-statements"><i class="fa fa-check"></i><b>17.6</b> Scraping Presidential Statements</a><ul>
<li class="chapter" data-level="17.6.1" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#using-rvest-to-read-html"><i class="fa fa-check"></i><b>17.6.1</b> Using <code>RVest</code> to Read HTML</a></li>
<li class="chapter" data-level="17.6.2" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#find-page-elements"><i class="fa fa-check"></i><b>17.6.2</b> Find Page Elements</a></li>
<li class="chapter" data-level="17.6.3" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#get-attributes-and-text-of-elements"><i class="fa fa-check"></i><b>17.6.3</b> Get Attributes and Text of Elements</a></li>
<li class="chapter" data-level="17.6.4" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#lets-do-this."><i class="fa fa-check"></i><b>17.6.4</b> Let's DO this.</a></li>
<li class="chapter" data-level="17.6.5" data-path="collecting-data-from-the-web.html"><a href="collecting-data-from-the-web.html#challenge-1-make-a-function"><i class="fa fa-check"></i><b>17.6.5</b> Challenge 1: Make a function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="text-analysis.html"><a href="text-analysis.html"><i class="fa fa-check"></i><b>18</b> Text Analysis</a><ul>
<li class="chapter" data-level="18.1" data-path="text-analysis.html"><a href="text-analysis.html#preprocessing"><i class="fa fa-check"></i><b>18.1</b> Preprocessing</a><ul>
<li class="chapter" data-level="18.1.1" data-path="text-analysis.html"><a href="text-analysis.html#from-words-to-numbers"><i class="fa fa-check"></i><b>18.1.1</b> From Words to Numbers</a></li>
<li class="chapter" data-level="18.1.2" data-path="text-analysis.html"><a href="text-analysis.html#exploring-the-dtm"><i class="fa fa-check"></i><b>18.1.2</b> Exploring the DTM</a></li>
<li class="chapter" data-level="18.1.3" data-path="text-analysis.html"><a href="text-analysis.html#exporting-the-dtm"><i class="fa fa-check"></i><b>18.1.3</b> Exporting the DTM</a></li>
<li class="chapter" data-level="18.1.4" data-path="text-analysis.html"><a href="text-analysis.html#challenges-24"><i class="fa fa-check"></i><b>18.1.4</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="text-analysis.html"><a href="text-analysis.html#sentiment-analysis-and-dictionary-methods"><i class="fa fa-check"></i><b>18.2</b> Sentiment Analysis and Dictionary Methods</a><ul>
<li class="chapter" data-level="18.2.1" data-path="text-analysis.html"><a href="text-analysis.html#preprocessing-and-setup"><i class="fa fa-check"></i><b>18.2.1</b> Preprocessing and Setup</a></li>
<li class="chapter" data-level="18.2.2" data-path="text-analysis.html"><a href="text-analysis.html#scoring-the-songs"><i class="fa fa-check"></i><b>18.2.2</b> Scoring the songs</a></li>
<li class="chapter" data-level="18.2.3" data-path="text-analysis.html"><a href="text-analysis.html#challenges-25"><i class="fa fa-check"></i><b>18.2.3</b> Challenges</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="text-analysis.html"><a href="text-analysis.html#distinctive-words"><i class="fa fa-check"></i><b>18.3</b> Distinctive Words</a><ul>
<li class="chapter" data-level="18.3.1" data-path="text-analysis.html"><a href="text-analysis.html#unique-usage"><i class="fa fa-check"></i><b>18.3.1</b> Unique usage</a></li>
<li class="chapter" data-level="18.3.2" data-path="text-analysis.html"><a href="text-analysis.html#differences-in-frequences"><i class="fa fa-check"></i><b>18.3.2</b> Differences in frequences</a></li>
<li class="chapter" data-level="18.3.3" data-path="text-analysis.html"><a href="text-analysis.html#differences-in-averages"><i class="fa fa-check"></i><b>18.3.3</b> Differences in averages</a></li>
<li class="chapter" data-level="18.3.4" data-path="text-analysis.html"><a href="text-analysis.html#difference-in-averages-adjustment"><i class="fa fa-check"></i><b>18.3.4</b> Difference in averages, adjustment</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="text-analysis.html"><a href="text-analysis.html#structural-topic-models"><i class="fa fa-check"></i><b>18.4</b> Structural Topic Models</a><ul>
<li class="chapter" data-level="18.4.1" data-path="text-analysis.html"><a href="text-analysis.html#preprocessing-1"><i class="fa fa-check"></i><b>18.4.1</b> Preprocessing</a></li>
<li class="chapter" data-level="18.4.2" data-path="text-analysis.html"><a href="text-analysis.html#estimate-model"><i class="fa fa-check"></i><b>18.4.2</b> Estimate Model</a></li>
<li class="chapter" data-level="18.4.3" data-path="text-analysis.html"><a href="text-analysis.html#interprete-model"><i class="fa fa-check"></i><b>18.4.3</b> Interprete Model</a></li>
<li class="chapter" data-level="18.4.4" data-path="text-analysis.html"><a href="text-analysis.html#analyze-topics"><i class="fa fa-check"></i><b>18.4.4</b> Analyze topics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="git-and-github.html"><a href="git-and-github.html"><i class="fa fa-check"></i><b>19</b> Git and Github</a><ul>
<li class="chapter" data-level="19.1" data-path="git-and-github.html"><a href="git-and-github.html#starting-with-git"><i class="fa fa-check"></i><b>19.1</b> Starting with Git</a><ul>
<li class="chapter" data-level="19.1.1" data-path="git-and-github.html"><a href="git-and-github.html#creating-a-repository"><i class="fa fa-check"></i><b>19.1.1</b> Creating a repository</a></li>
<li class="chapter" data-level="19.1.2" data-path="git-and-github.html"><a href="git-and-github.html#git-add-tracks-files"><i class="fa fa-check"></i><b>19.1.2</b> <code>git add</code>: tracks files</a></li>
<li class="chapter" data-level="19.1.3" data-path="git-and-github.html"><a href="git-and-github.html#git-commit-saves-files"><i class="fa fa-check"></i><b>19.1.3</b> <code>git commit</code>: saves files</a></li>
<li class="chapter" data-level="19.1.4" data-path="git-and-github.html"><a href="git-and-github.html#git-push-moves-changes-from-one-branch-to-another."><i class="fa fa-check"></i><b>19.1.4</b> <code>git push</code>: moves changes from one branch to another.</a></li>
<li class="chapter" data-level="19.1.5" data-path="git-and-github.html"><a href="git-and-github.html#challenge-1-5"><i class="fa fa-check"></i><b>19.1.5</b> Challenge 1</a></li>
<li class="chapter" data-level="19.1.6" data-path="git-and-github.html"><a href="git-and-github.html#ignoring-things"><i class="fa fa-check"></i><b>19.1.6</b> Ignoring Things</a></li>
<li class="chapter" data-level="19.1.7" data-path="git-and-github.html"><a href="git-and-github.html#challenge-2-5"><i class="fa fa-check"></i><b>19.1.7</b> Challenge 2</a></li>
<li class="chapter" data-level="19.1.8" data-path="git-and-github.html"><a href="git-and-github.html#pulling-syncing"><i class="fa fa-check"></i><b>19.1.8</b> Pulling / Syncing</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="git-and-github.html"><a href="git-and-github.html#collaborating"><i class="fa fa-check"></i><b>19.2</b> Collaborating</a><ul>
<li class="chapter" data-level="19.2.1" data-path="git-and-github.html"><a href="git-and-github.html#fork-pull-model"><i class="fa fa-check"></i><b>19.2.1</b> Fork &amp; Pull Model</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PLSC 31101: Computational Tools for Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="collecting-data-from-the-web" class="section level1">
<h1><span class="header-section-number">Chapter 17</span> Collecting Data from the Web</h1>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">17.1</span> Introduction</h2>
<p>There's a ton of web data that's useful to social scientists, including:</p>
<ul>
<li>social media</li>
<li>news media</li>
<li>government publications</li>
<li>organizational records</li>
</ul>
<p>There are two ways to get data off the web:</p>
<ol style="list-style-type: decimal">
<li><strong><a href="collecting-data-from-the-web.html#web-apis">Web APIs</a></strong> - i.e. application-facing, for computers</li>
<li><strong><a href="collecting-data-from-the-web.html#webscraping">Webscraping</a></strong> - i.e. user-facing websites for humans</li>
</ol>
<p><strong>Rule of Thumb</strong>: Check for API first. If not available, scrape.</p>
</div>
<div id="web-apis" class="section level2">
<h2><span class="header-section-number">17.2</span> Web APIs</h2>
<p>API stands for <strong>Application Programming Interface</strong>. Broadly defined, an API is a set of rules and procedures that facilitate interactions between computers and their applications.</p>
<p>A very common type of API is the <strong>Web API</strong>, which (among other things) allows users to query a remote database over the internet.</p>
<p>Web APIs take on a variety of formats, but the vast majority adhere to a particular style known as <strong>Reperesentational State Transfer</strong> or <strong>REST</strong>. What makes these &quot;RESTful&quot; APIs so convenient is that we can use them to query databases using URLs.</p>
<div id="restful-web-apis-are-all-around-you..." class="section level4 unnumbered">
<h4>RESTful Web APIs are All Around You...</h4>
<p>Consider a simple Google search:</p>
<p><img src="img/google_search.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Ever wonder what all that extra stuff in the address bar was all about? In this case, the full address is Google's way of sending a query to its databases requesting information related to the search term &quot;golden state warriors&quot;.</p>
<p><img src="img/google_link.png" width="70%" style="display: block; margin: auto;" /></p>
<p>In fact, it looks like Google makes its query by taking the search terms, separating each of them with a &quot;+&quot;, and appending them to the link &quot;<a href="https://www.google.com/#q" class="uri">https://www.google.com/#q</a>=&quot;. Therefore, we should be able to actually change our Google search by adding some terms to the URL and following the general format...</p>
<p><img src="img/google_link_change.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Learning how to use RESTful APIs is all about learning how to format these URLs so that you can get the response you want.</p>
</div>
<div id="some-basic-terminology" class="section level3">
<h3><span class="header-section-number">17.2.1</span> Some Basic Terminology</h3>
<p>Let's get on the same page with some basic terminology:</p>
<ul>
<li><p><strong>Uniform Resource Location (URL)</strong>: a string of characters that, when interpreted via the Hypertext Transfer Protocol (HTTP), points to a data resource, notably files written in Hypertext Markup Language (HTML) or a subset of a database. This is often referred to as a &quot;call&quot;.</p></li>
<li><p><strong>HTTP Methods/Verbs</strong>:</p>
<ul>
<li><p><em>GET</em>: requests a representation of a data resource corresponding to a particular URL. The process of executing the GET method is often referred to as a &quot;GET request&quot; and is the main method used for querying RESTful databases.</p></li>
<li><p><em>HEAD</em>, <em>POST</em>, <em>PUT</em>, <em>DELETE</em>: other common methods, though mostly never used for database querying.</p></li>
</ul></li>
</ul>
</div>
<div id="how-do-get-requests-work" class="section level3">
<h3><span class="header-section-number">17.2.2</span> How Do GET Requests Work?</h3>
<div id="a-web-browsing-example" class="section level4 unnumbered">
<h4>A Web Browsing Example</h4>
<p>As you might suspect from the example above, surfing the web is basically equivalent to sending a bunch of <code>GET</code> requests to different servers and asking for different files written in HTML.</p>
<p>Suppose, for instance, I wanted to look something up on Wikipedia. My first step would be to open my web browser and type in <a href="http://www.wikipedia.org" class="uri">http://www.wikipedia.org</a>. Once I hit return, I'd see the page below.</p>
<p><img src="img/wikipedia.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Several different processes occured, however, between me hitting &quot;return&quot; and the page finally being rendered. In order:</p>
<ol style="list-style-type: decimal">
<li><p>The web browser took the entered character string and used the command-line tool &quot;Curl&quot; to write a properly formatted HTTP GET request and submitted it to the server that hosts the Wikipedia homepage.</p></li>
<li><p>After receiving this request, the server sent an HTTP response, from which Curl extracted the HTML code for the page (partially shown below).</p></li>
<li><p>The raw HTML code was parsed and then executed by the web browser, rendering the page as seen in the window.</p></li>
</ol>
<pre><code>#&gt; No encoding supplied: defaulting to UTF-8.
#&gt; [1] &quot;&lt;!DOCTYPE html&gt;\n&lt;html lang=\&quot;mul\&quot; class=\&quot;no-js\&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=\&quot;utf-8\&quot;&gt;\n&lt;title&gt;Wikipedia&lt;/title&gt;\n&lt;meta name=\&quot;description\&quot; content=\&quot;Wikipedia is a free online encyclopedia, created and edited by volunteers around the world and hosted by the Wikimedia Foundation.\&quot;&gt;\n&lt;script&gt;\ndocument.documentElement.className = document.documentElement.className.replace( /(^|\\s)no-js(\\s|$)/, \&quot;$1js-enabled$2\&quot; );\n&lt;/script&gt;\n&lt;meta name=\&quot;viewport\&quot; content=\&quot;initial-scale=1,user-scalable=yes\&quot;&gt;\n&lt;link rel=\&quot;apple-touch-icon\&quot; href=\&quot;/static/apple-touch/wikipedia.png\&quot;&gt;\n&lt;link rel=\&quot;shortcut icon\&quot; href=\&quot;/static/favicon/wikipedia.ico\&quot;&gt;\n&lt;link rel=\&quot;license\&quot; href=\&quot;//creativecommons.org/licenses/by-sa/3.0/\&quot;&gt;\n&lt;style&gt;\n.sprite{background-image:url(portal/wikipedia.org/assets/img/sprite-46c49284.png);background-image:linear-gradient(transparent,transparent),url(portal/wikipedia.org/assets/img/sprite-46c49284.svg);background-repeat:no-repeat;display:inline-block;vertical-align:middle}.svg-Commons-logo_sister{background-posit&quot;</code></pre>
</div>
<div id="web-browsing-as-a-template-for-restful-database-querying" class="section level4 unnumbered">
<h4>Web Browsing as a Template for RESTful Database Querying</h4>
<p>The process of web browsing described above is a close analogue for the process of database querying via RESTful APIs, with only a few adjustments:</p>
<ol style="list-style-type: decimal">
<li><p>While the Curl tool will still be used to send HTML GET requests to the servers hosting our databases of interest, the character string that we supply to Curl must be constructed so that the resulting request can be interpreted and succesfully acted upon by the server. In particular, it is likely that the character string must encode <strong>search terms and/or filtering parameters</strong>, as well as one or more <strong>authentication codes</strong>. While the terms are often similar across APIs, most are API-specific.</p></li>
<li><p>Unlike with web browsing, the content of the server's response that is extracted by Curl is unlikely to be HTML code. Rather, it will likely be <strong>raw text response that can be parsed into one of a few file formats commonly used for data storage</strong>. The usual suspects include .csv, .xml, and .json files.</p></li>
<li><p>Whereas the web browser capably parsed and executed the HTML code, <strong>one or more facilities in R, Python, or other programming languages will be necessary for parsing the server response and converting it into a format for local storage</strong> (e.g. matrices, dataframes, databases, lists, etc.).</p></li>
</ol>
</div>
</div>
<div id="finding-apis" class="section level3">
<h3><span class="header-section-number">17.2.3</span> Finding APIs</h3>
<p>More and more APIs pop up every day. <a href="https://www.programmableweb.com/apis/directory">Programmable Web</a> offers a running list of APIs. <a href="https://ucsd.libguides.com/c.php?g=90743&amp;p=3202435">This list</a> provides a list of APIs that may be useful to Political Scientists.</p>
<p>Here are some APIs that may be useful to you:</p>
<ul>
<li><a href="http://developer.nytimes.com/">NYT Article API</a>: Provides metdata (title, summaries, dates, etc) from all New York Times articles in their archive.</li>
<li><a href="https://www.geonames.org/">GeoNames geographical database</a>: Provides lots of geographical information for all countries and other locations. The <code>geonames</code> package provides a wrapper for R.</li>
<li><a href="https://manifesto-project.wzb.eu/.">The Manifesto Project</a>: Provides text and other information on political party manifestos from around the world. It currently covers over 1000 parties from 1945 until today in over 50 countries on five continents. The <code>manifestoR</code> package provides a wrapper for R.</li>
<li><a href="https://www.census.gov/developers/">The Census Bureau</a>: Provides datasets from US Census Bureau. The <code>tidycensus</code> package allows users to interface with the US Census Bureau’s decennial Census and five-year American Community APIs.</li>
</ul>
</div>
<div id="getting-api-access" class="section level3">
<h3><span class="header-section-number">17.2.4</span> Getting API Access</h3>
<p>Most APIs requires a key or other user credentials before you can query their database.</p>
<p>Getting credentialized with a API requires that you register with the organization. Most APIs are set up for developers, so you'll likely be asked to register an &quot;application&quot;. All this really entails is coming up with a name for your app/bot/project, and providing your real name, organization, and email. Note that some more popular APIs (e.g. Twitter, Facebook) will require additional information, such as a web address or mobile number.</p>
<p>Once you've successfully registered, you will be assigned one or more keys, tokens, or other credentials that must be supplied to the server as part of any API call you make. To make sure that users aren't abusing their data access privileges (e.g. by making many rapid queries), each set of keys will be given <strong>rate limits</strong> governing the total number of calls that can be made over certain intervals of time.</p>
<p>For example, the NYT Article API has relatively generous rate limits --- 4,000 requests per day and 10 requests per minute. So we need to &quot;sleep&quot;&quot; 6 seconds between calls to avoid hitting the per minute rate limit.</p>
<p><img src="img/nytimes_key.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="using-apis-in-r" class="section level3">
<h3><span class="header-section-number">17.2.5</span> Using APIs in R</h3>
<p>There are two ways to collect data through APIs in R.</p>
<ol style="list-style-type: decimal">
<li><a href="collecting-data-from-the-web.html#collecting-twitter-data-with-rtweet"><strong>Plug-n-play packages</strong></a></li>
</ol>
<p>Many common APIs are available through user-written R Packages. These packages offer functions that &quot;wrap&quot; API queries and format the response. These packages are usually much more convenient than writing our own query, so it's worth searching around for a package that works with the API we need.</p>
<ol start="2" style="list-style-type: decimal">
<li><a href="collecting-data-from-the-web.html#writing-api-queries"><strong>Writing our own API request</strong></a></li>
</ol>
<p>If no wrapper function is available, we have to write our own API request, and format the response ourselves using R. This is trickier, but definitely do-able.</p>

</div>
</div>
<div id="collecting-twitter-data-with-rtweet" class="section level2">
<h2><span class="header-section-number">17.3</span> Collecting Twitter Data with RTweet</h2>
<p>Twitter actually has two separate APIs:</p>
<ol style="list-style-type: decimal">
<li>The <strong>REST API</strong> allows you to read and write Twitter data. For research purposes, this allows you to search the recent history of tweets and look up specific users.</li>
<li>The <strong>Streaming API</strong> allows you to access public data flowing through Twitter in real-time. It requires your R session to be running continuously, but allows you to capture a much larger sample of tweets while avoiding rate limits for the REST API.</li>
</ol>
<p>There are several packages for R for accessing and searching Twitter. In this unit, we'll practice using the <code>RTweet</code> library, which allows us to easily collect data from Twitter's REST and stream APIs.</p>
<div id="setting-up-rtweet" class="section level3">
<h3><span class="header-section-number">17.3.1</span> Setting up <code>RTweet</code></h3>
<p>To use <code>RTweet</code>, follow these steps:</p>
<ol style="list-style-type: decimal">
<li>If you don't have a Twitter account, create one <a href="https://twitter.com/i/flow/signup">here</a>.</li>
<li>Install the <code>RTweet</code> package from CRAN.</li>
<li>Load the package into R.</li>
<li>Send a request to Twitter's API by calling any of the package's functions, like <code>search_tweets</code> or<code>get_timeline</code>.</li>
<li>Approve the browser popup (to authorize the <code>rstats2twitter</code> app).</li>
<li>Now, you're ready to use RTweet!</li>
</ol>
<p>Let's go ahead and load <code>RTweet</code> along with some other helpful functions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(rtweet)
<span class="kw">library</span>(lubridate)
<span class="kw">library</span>(kableExtra)</code></pre></div>
</div>
<div id="uchicago-political-science-prof-tweets" class="section level3">
<h3><span class="header-section-number">17.3.2</span> UChicago Political Science Prof Tweets</h3>
<p>Let's explore the <code>RTweet</code> package to see what we can learn about the tweeting habits of UChicago Political Science faculty.</p>
<p>The function <code>get_timeline</code> will pull the most recent <code>n</code> number of tweets from a given handle(s). To pull tweets from multiple handles, write out a vector of the handles in the <code>user</code> argument.</p>
<p>Let's pull tweets from five faculty members in the department.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">profs &lt;-<span class="st"> </span><span class="kw">get_timeline</span>(
  <span class="dt">user =</span> <span class="kw">c</span>(<span class="st">&quot;carsonaust&quot;</span>, <span class="st">&quot;profpaulpoast&quot;</span>, <span class="st">&quot;pstanpolitics&quot;</span>, <span class="st">&quot;rochelleterman&quot;</span>, <span class="st">&quot;bobbygulotty&quot;</span>),
  <span class="dt">n =</span> <span class="dv">1000</span>
)
<span class="kw">kable</span>(<span class="kw">head</span>(profs))</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
user_id
</th>
<th style="text-align:left;">
status_id
</th>
<th style="text-align:left;">
created_at
</th>
<th style="text-align:left;">
screen_name
</th>
<th style="text-align:left;">
text
</th>
<th style="text-align:left;">
source
</th>
<th style="text-align:right;">
display_text_width
</th>
<th style="text-align:left;">
reply_to_status_id
</th>
<th style="text-align:left;">
reply_to_user_id
</th>
<th style="text-align:left;">
reply_to_screen_name
</th>
<th style="text-align:left;">
is_quote
</th>
<th style="text-align:left;">
is_retweet
</th>
<th style="text-align:right;">
favorite_count
</th>
<th style="text-align:right;">
retweet_count
</th>
<th style="text-align:right;">
quote_count
</th>
<th style="text-align:right;">
reply_count
</th>
<th style="text-align:left;">
hashtags
</th>
<th style="text-align:left;">
symbols
</th>
<th style="text-align:left;">
urls_url
</th>
<th style="text-align:left;">
urls_t.co
</th>
<th style="text-align:left;">
urls_expanded_url
</th>
<th style="text-align:left;">
media_url
</th>
<th style="text-align:left;">
media_t.co
</th>
<th style="text-align:left;">
media_expanded_url
</th>
<th style="text-align:left;">
media_type
</th>
<th style="text-align:left;">
ext_media_url
</th>
<th style="text-align:left;">
ext_media_t.co
</th>
<th style="text-align:left;">
ext_media_expanded_url
</th>
<th style="text-align:left;">
ext_media_type
</th>
<th style="text-align:left;">
mentions_user_id
</th>
<th style="text-align:left;">
mentions_screen_name
</th>
<th style="text-align:left;">
lang
</th>
<th style="text-align:left;">
quoted_status_id
</th>
<th style="text-align:left;">
quoted_text
</th>
<th style="text-align:left;">
quoted_created_at
</th>
<th style="text-align:left;">
quoted_source
</th>
<th style="text-align:right;">
quoted_favorite_count
</th>
<th style="text-align:right;">
quoted_retweet_count
</th>
<th style="text-align:left;">
quoted_user_id
</th>
<th style="text-align:left;">
quoted_screen_name
</th>
<th style="text-align:left;">
quoted_name
</th>
<th style="text-align:right;">
quoted_followers_count
</th>
<th style="text-align:right;">
quoted_friends_count
</th>
<th style="text-align:right;">
quoted_statuses_count
</th>
<th style="text-align:left;">
quoted_location
</th>
<th style="text-align:left;">
quoted_description
</th>
<th style="text-align:left;">
quoted_verified
</th>
<th style="text-align:left;">
retweet_status_id
</th>
<th style="text-align:left;">
retweet_text
</th>
<th style="text-align:left;">
retweet_created_at
</th>
<th style="text-align:left;">
retweet_source
</th>
<th style="text-align:right;">
retweet_favorite_count
</th>
<th style="text-align:right;">
retweet_retweet_count
</th>
<th style="text-align:left;">
retweet_user_id
</th>
<th style="text-align:left;">
retweet_screen_name
</th>
<th style="text-align:left;">
retweet_name
</th>
<th style="text-align:right;">
retweet_followers_count
</th>
<th style="text-align:right;">
retweet_friends_count
</th>
<th style="text-align:right;">
retweet_statuses_count
</th>
<th style="text-align:left;">
retweet_location
</th>
<th style="text-align:left;">
retweet_description
</th>
<th style="text-align:left;">
retweet_verified
</th>
<th style="text-align:left;">
place_url
</th>
<th style="text-align:left;">
place_name
</th>
<th style="text-align:left;">
place_full_name
</th>
<th style="text-align:left;">
place_type
</th>
<th style="text-align:left;">
country
</th>
<th style="text-align:left;">
country_code
</th>
<th style="text-align:left;">
geo_coords
</th>
<th style="text-align:left;">
coords_coords
</th>
<th style="text-align:left;">
bbox_coords
</th>
<th style="text-align:left;">
status_url
</th>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
location
</th>
<th style="text-align:left;">
description
</th>
<th style="text-align:left;">
url
</th>
<th style="text-align:left;">
protected
</th>
<th style="text-align:right;">
followers_count
</th>
<th style="text-align:right;">
friends_count
</th>
<th style="text-align:right;">
listed_count
</th>
<th style="text-align:right;">
statuses_count
</th>
<th style="text-align:right;">
favourites_count
</th>
<th style="text-align:left;">
account_created_at
</th>
<th style="text-align:left;">
verified
</th>
<th style="text-align:left;">
profile_url
</th>
<th style="text-align:left;">
profile_expanded_url
</th>
<th style="text-align:left;">
account_lang
</th>
<th style="text-align:left;">
profile_banner_url
</th>
<th style="text-align:left;">
profile_background_url
</th>
<th style="text-align:left;">
profile_image_url
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
805833715
</td>
<td style="text-align:left;">
1292149395526303744
</td>
<td style="text-align:left;">
2020-08-08 17:23:17
</td>
<td style="text-align:left;">
carsonaust
</td>
<td style="text-align:left;">
Keep your eyes on <span class="citation">(<span class="citeproc-not-found" data-reference-id="josefkorbel"><strong>???</strong></span>)</span> folks. Search for <em>several</em> positions coming soon! <a href="https://t.co/wI3Ww0smwJ" class="uri">https://t.co/wI3Ww0smwJ</a>
</td>
<td style="text-align:left;">
Twitter for iPhone
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
1498985576, 166252198
</td>
<td style="text-align:left;">
DeborahAvant1, josefkorbel
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
1291843536116047872
</td>
<td style="text-align:left;">
Keep your eyes on <span class="citation">(<span class="citeproc-not-found" data-reference-id="josefkorbel"><strong>???</strong></span>)</span> folks. Search for <em>several</em> positions coming soon! <a href="https://t.co/wI3Ww0smwJ" class="uri">https://t.co/wI3Ww0smwJ</a>
</td>
<td style="text-align:left;">
2020-08-07 21:07:54
</td>
<td style="text-align:left;">
Twitter for Android
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:left;">
1498985576
</td>
<td style="text-align:left;">
DeborahAvant1
</td>
<td style="text-align:left;">
Deborah Avant
</td>
<td style="text-align:right;">
2577
</td>
<td style="text-align:right;">
1267
</td>
<td style="text-align:right;">
6988
</td>
<td style="text-align:left;">
Denver, CO
</td>
<td style="text-align:left;">
Studies global politics, drinks Manhattans, practices yoga, hikes, cooks, writes, teaches, parents, and plays with Rose.
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA, NA, NA, NA, NA, NA, NA
</td>
<td style="text-align:left;">
<a href="https://twitter.com/carsonaust/status/1292149395526303744" class="uri">https://twitter.com/carsonaust/status/1292149395526303744</a>
</td>
<td style="text-align:left;">
Austin Carson
</td>
<td style="text-align:left;">
Chicago, IL
</td>
<td style="text-align:left;">
Assistant Professor @ University of Chicago, author of <em>Secrets in Global Governance</em> and <em>Secret Wars</em>. Dad &amp; NBA / Pistons enthusiast
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2519
</td>
<td style="text-align:right;">
1169
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
3039
</td>
<td style="text-align:left;">
2012-09-06 01:57:49
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
<a href="https://austinmcarson.com/" class="uri">https://austinmcarson.com/</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
<a href="https://pbs.twimg.com/profile_banners/805833715/1588169215" class="uri">https://pbs.twimg.com/profile_banners/805833715/1588169215</a>
</td>
<td style="text-align:left;">
<a href="http://abs.twimg.com/images/themes/theme1/bg.png" class="uri">http://abs.twimg.com/images/themes/theme1/bg.png</a>
</td>
<td style="text-align:left;">
<a href="http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg" class="uri">http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
805833715
</td>
<td style="text-align:left;">
1292148836845023233
</td>
<td style="text-align:left;">
2020-08-08 17:21:04
</td>
<td style="text-align:left;">
carsonaust
</td>
<td style="text-align:left;">
Inside the politicization of intelligence under Trump <a href="https://t.co/lv1YRHg7ho" class="uri">https://t.co/lv1YRHg7ho</a>
</td>
<td style="text-align:left;">
Twitter for iPhone
</td>
<td style="text-align:right;">
77
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
nytimes.com/2020/08/08/mag…
</td>
<td style="text-align:left;">
<a href="https://t.co/lv1YRHg7ho" class="uri">https://t.co/lv1YRHg7ho</a>
</td>
<td style="text-align:left;">
<a href="https://www.nytimes.com/2020/08/08/magazine/us-russia-intelligence.html?action=click&amp;module=Top%20Stories&amp;pgtype=Homepage">https://www.nytimes.com/2020/08/08/magazine/us-russia-intelligence.html?action=click&amp;module=Top%20Stories&amp;pgtype=Homepage</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA, NA, NA, NA, NA, NA, NA
</td>
<td style="text-align:left;">
<a href="https://twitter.com/carsonaust/status/1292148836845023233" class="uri">https://twitter.com/carsonaust/status/1292148836845023233</a>
</td>
<td style="text-align:left;">
Austin Carson
</td>
<td style="text-align:left;">
Chicago, IL
</td>
<td style="text-align:left;">
Assistant Professor @ University of Chicago, author of <em>Secrets in Global Governance</em> and <em>Secret Wars</em>. Dad &amp; NBA / Pistons enthusiast
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2519
</td>
<td style="text-align:right;">
1169
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
3039
</td>
<td style="text-align:left;">
2012-09-06 01:57:49
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
<a href="https://austinmcarson.com/" class="uri">https://austinmcarson.com/</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
<a href="https://pbs.twimg.com/profile_banners/805833715/1588169215" class="uri">https://pbs.twimg.com/profile_banners/805833715/1588169215</a>
</td>
<td style="text-align:left;">
<a href="http://abs.twimg.com/images/themes/theme1/bg.png" class="uri">http://abs.twimg.com/images/themes/theme1/bg.png</a>
</td>
<td style="text-align:left;">
<a href="http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg" class="uri">http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
805833715
</td>
<td style="text-align:left;">
1291051028121415680
</td>
<td style="text-align:left;">
2020-08-05 16:38:46
</td>
<td style="text-align:left;">
carsonaust
</td>
<td style="text-align:left;">
ICYMI: call for new research manuscripts on race and international security by Security Studies, deadline of December 1st <a href="https://t.co/UO96TY3lR2" class="uri">https://t.co/UO96TY3lR2</a>
</td>
<td style="text-align:left;">
Twitter Web App
</td>
<td style="text-align:right;">
147
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
securitystudiesjournal.org/race-and-secur…
</td>
<td style="text-align:left;">
<a href="https://t.co/UO96TY3lR2" class="uri">https://t.co/UO96TY3lR2</a>
</td>
<td style="text-align:left;">
<a href="https://securitystudiesjournal.org/race-and-security" class="uri">https://securitystudiesjournal.org/race-and-security</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA, NA, NA, NA, NA, NA, NA
</td>
<td style="text-align:left;">
<a href="https://twitter.com/carsonaust/status/1291051028121415680" class="uri">https://twitter.com/carsonaust/status/1291051028121415680</a>
</td>
<td style="text-align:left;">
Austin Carson
</td>
<td style="text-align:left;">
Chicago, IL
</td>
<td style="text-align:left;">
Assistant Professor @ University of Chicago, author of <em>Secrets in Global Governance</em> and <em>Secret Wars</em>. Dad &amp; NBA / Pistons enthusiast
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2519
</td>
<td style="text-align:right;">
1169
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
3039
</td>
<td style="text-align:left;">
2012-09-06 01:57:49
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
<a href="https://austinmcarson.com/" class="uri">https://austinmcarson.com/</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
<a href="https://pbs.twimg.com/profile_banners/805833715/1588169215" class="uri">https://pbs.twimg.com/profile_banners/805833715/1588169215</a>
</td>
<td style="text-align:left;">
<a href="http://abs.twimg.com/images/themes/theme1/bg.png" class="uri">http://abs.twimg.com/images/themes/theme1/bg.png</a>
</td>
<td style="text-align:left;">
<a href="http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg" class="uri">http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
805833715
</td>
<td style="text-align:left;">
1290749935764168704
</td>
<td style="text-align:left;">
2020-08-04 20:42:20
</td>
<td style="text-align:left;">
carsonaust
</td>
<td style="text-align:left;">
Faculty at the Center for the Study of Race Politics and Culture <span class="citation">(<span class="citeproc-not-found" data-reference-id="uchicago"><strong>???</strong></span>)</span> are demanding #MoreThanDiversity after two failed searches for a director, neglect of the study of race &amp;amp; continued investment in one of the largest police forces in the country <a href="https://t.co/kZQ5nnLbwa" class="uri">https://t.co/kZQ5nnLbwa</a>
</td>
<td style="text-align:left;">
Twitter for iPhone
</td>
<td style="text-align:right;">
140
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
146
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
MoreThanDiversity
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
2184710854, 131144285
</td>
<td style="text-align:left;">
AdomGetachew, UChicago
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
1290691126438109189
</td>
<td style="text-align:left;">
Faculty at the Center for the Study of Race Politics and Culture <span class="citation">(<span class="citeproc-not-found" data-reference-id="uchicago"><strong>???</strong></span>)</span> are demanding #MoreThanDiversity after two failed searches for a director, neglect of the study of race &amp;amp; continued investment in one of the largest police forces in the country <a href="https://t.co/kZQ5nnLbwa" class="uri">https://t.co/kZQ5nnLbwa</a>
</td>
<td style="text-align:left;">
2020-08-04 16:48:39
</td>
<td style="text-align:left;">
Twitter Web App
</td>
<td style="text-align:right;">
426
</td>
<td style="text-align:right;">
146
</td>
<td style="text-align:left;">
2184710854
</td>
<td style="text-align:left;">
AdomGetachew
</td>
<td style="text-align:left;">
Adom Getachew
</td>
<td style="text-align:right;">
8211
</td>
<td style="text-align:right;">
1785
</td>
<td style="text-align:right;">
1284
</td>
<td style="text-align:left;">
Chicago, IL
</td>
<td style="text-align:left;">
political theorist focused on empire, decolonization, author of Worldmaking after Empire <a href="https://t.co/4Ti7ZPEPM0" class="uri">https://t.co/4Ti7ZPEPM0</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA, NA, NA, NA, NA, NA, NA
</td>
<td style="text-align:left;">
<a href="https://twitter.com/carsonaust/status/1290749935764168704" class="uri">https://twitter.com/carsonaust/status/1290749935764168704</a>
</td>
<td style="text-align:left;">
Austin Carson
</td>
<td style="text-align:left;">
Chicago, IL
</td>
<td style="text-align:left;">
Assistant Professor @ University of Chicago, author of <em>Secrets in Global Governance</em> and <em>Secret Wars</em>. Dad &amp; NBA / Pistons enthusiast
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2519
</td>
<td style="text-align:right;">
1169
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
3039
</td>
<td style="text-align:left;">
2012-09-06 01:57:49
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
<a href="https://austinmcarson.com/" class="uri">https://austinmcarson.com/</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
<a href="https://pbs.twimg.com/profile_banners/805833715/1588169215" class="uri">https://pbs.twimg.com/profile_banners/805833715/1588169215</a>
</td>
<td style="text-align:left;">
<a href="http://abs.twimg.com/images/themes/theme1/bg.png" class="uri">http://abs.twimg.com/images/themes/theme1/bg.png</a>
</td>
<td style="text-align:left;">
<a href="http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg" class="uri">http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
805833715
</td>
<td style="text-align:left;">
1289249867202564096
</td>
<td style="text-align:left;">
2020-07-31 17:21:36
</td>
<td style="text-align:left;">
carsonaust
</td>
<td style="text-align:left;">
<p>Woot! A new entry into my own personal Top 5 Least Enjoyable Flights:</p>
<p>Flying mid-pandemic with 2 and 5 year old from Chicago O'Hare to Anchorage, Alaska</p>
(and we didn't even have a real 2 year old meltdown...)
</td>
<td style="text-align:left;">
Twitter Web App
</td>
<td style="text-align:right;">
211
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA, NA, NA, NA, NA, NA, NA
</td>
<td style="text-align:left;">
<a href="https://twitter.com/carsonaust/status/1289249867202564096" class="uri">https://twitter.com/carsonaust/status/1289249867202564096</a>
</td>
<td style="text-align:left;">
Austin Carson
</td>
<td style="text-align:left;">
Chicago, IL
</td>
<td style="text-align:left;">
Assistant Professor @ University of Chicago, author of <em>Secrets in Global Governance</em> and <em>Secret Wars</em>. Dad &amp; NBA / Pistons enthusiast
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2519
</td>
<td style="text-align:right;">
1169
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
3039
</td>
<td style="text-align:left;">
2012-09-06 01:57:49
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
<a href="https://austinmcarson.com/" class="uri">https://austinmcarson.com/</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
<a href="https://pbs.twimg.com/profile_banners/805833715/1588169215" class="uri">https://pbs.twimg.com/profile_banners/805833715/1588169215</a>
</td>
<td style="text-align:left;">
<a href="http://abs.twimg.com/images/themes/theme1/bg.png" class="uri">http://abs.twimg.com/images/themes/theme1/bg.png</a>
</td>
<td style="text-align:left;">
<a href="http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg" class="uri">http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg</a>
</td>
</tr>
<tr>
<td style="text-align:left;">
805833715
</td>
<td style="text-align:left;">
1289248606252175360
</td>
<td style="text-align:left;">
2020-07-31 17:16:35
</td>
<td style="text-align:left;">
carsonaust
</td>
<td style="text-align:left;">
ICYMI: the role of intelligence in connecting dots when governments violate international law. Showcased in Syria's use of chemical weapons and OPCW's investigations <a href="https://t.co/JkiphTy8vW" class="uri">https://t.co/JkiphTy8vW</a>
</td>
<td style="text-align:left;">
Twitter Web App
</td>
<td style="text-align:right;">
165
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
twitter.com/monkeycageblog…
</td>
<td style="text-align:left;">
<a href="https://t.co/JkiphTy8vW" class="uri">https://t.co/JkiphTy8vW</a>
</td>
<td style="text-align:left;">
<a href="https://twitter.com/monkeycageblog/status/1288761637428764678" class="uri">https://twitter.com/monkeycageblog/status/1288761637428764678</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
en
</td>
<td style="text-align:left;">
1288761637428764678
</td>
<td style="text-align:left;">
Holding Syria accountable for chemical attacks will be tough without sharing intelligence <a href="https://t.co/tB2CScUiOM" class="uri">https://t.co/tB2CScUiOM</a>
</td>
<td style="text-align:left;">
2020-07-30 09:01:33
</td>
<td style="text-align:left;">
SocialFlow
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
116630713
</td>
<td style="text-align:left;">
monkeycageblog
</td>
<td style="text-align:left;">
Monkey Cage
</td>
<td style="text-align:right;">
51275
</td>
<td style="text-align:right;">
758
</td>
<td style="text-align:right;">
23363
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Democracy is the art of running the circus from the monkey cage. -- H.L. Mencken. Political science for the public. Making sense of the circus that is politics.
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA
</td>
<td style="text-align:left;">
NA, NA, NA, NA, NA, NA, NA, NA
</td>
<td style="text-align:left;">
<a href="https://twitter.com/carsonaust/status/1289248606252175360" class="uri">https://twitter.com/carsonaust/status/1289248606252175360</a>
</td>
<td style="text-align:left;">
Austin Carson
</td>
<td style="text-align:left;">
Chicago, IL
</td>
<td style="text-align:left;">
Assistant Professor @ University of Chicago, author of <em>Secrets in Global Governance</em> and <em>Secret Wars</em>. Dad &amp; NBA / Pistons enthusiast
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
2519
</td>
<td style="text-align:right;">
1169
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
1732
</td>
<td style="text-align:right;">
3039
</td>
<td style="text-align:left;">
2012-09-06 01:57:49
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
<a href="https://t.co/kApIyoe7RG" class="uri">https://t.co/kApIyoe7RG</a>
</td>
<td style="text-align:left;">
<a href="https://austinmcarson.com/" class="uri">https://austinmcarson.com/</a>
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
<a href="https://pbs.twimg.com/profile_banners/805833715/1588169215" class="uri">https://pbs.twimg.com/profile_banners/805833715/1588169215</a>
</td>
<td style="text-align:left;">
<a href="http://abs.twimg.com/images/themes/theme1/bg.png" class="uri">http://abs.twimg.com/images/themes/theme1/bg.png</a>
</td>
<td style="text-align:left;">
<a href="http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg" class="uri">http://pbs.twimg.com/profile_images/1024384740181336064/ROqTG_uN_normal.jpg</a>
</td>
</tr>
</tbody>
</table>
<p>Now, let's visualize which professors are tweeting the most, by week.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">profs <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(screen_name) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">created_at =</span> <span class="kw">as.Date</span>(created_at)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(created_at <span class="op">&gt;=</span><span class="st"> &quot;2019-06-15&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ts_plot</span>(<span class="dt">by =</span> <span class="st">&quot;week&quot;</span>)</code></pre></div>
<p><img src="site1_files/figure-html/unnamed-chunk-454-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="hashtags-and-text-strings" class="section level3">
<h3><span class="header-section-number">17.3.3</span> Hashtags and Text Strings</h3>
<p>We can also use <code>RTweet</code> to explore certain hashtags or text strings.</p>
<p>Let's take Duke Ellington again -- we can use <code>search_tweets</code> to pull the most recent n number of tweets that include the hashtag <code>#DukeEllington</code> or the string <code>&quot;Duke Ellington&quot;</code>.</p>
<div id="hashtag-challenge" class="section level4 unnumbered">
<h4>Hashtag Challenge</h4>
<p>Using the documentation for <code>search_tweets</code> as a guide, try pulling the 2,000 most recent tweets that include <code>#DukeEllington</code> or <code>&quot;Duke Ellington&quot;</code> -- be sure to exclude retweets from the query.</p>
<ol style="list-style-type: decimal">
<li><p>Why didn't your query return 2,000 results?</p></li>
<li><p>Identify the user that has used either the hashtag or the string in the greatest number of tweets -- where is this user from?</p></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">duke &lt;-<span class="st"> </span><span class="kw">search_tweets</span>(
  <span class="dt">q =</span> <span class="st">&#39;#DukeEllington OR &quot;Duke Ellington&quot;&#39;</span>,
  <span class="dt">n =</span> <span class="dv">2000</span>,
  <span class="dt">include_rts =</span> <span class="ot">FALSE</span>
)

duke <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(user_id, location) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(n))
<span class="co">#&gt; # A tibble: 670 x 3</span>
<span class="co">#&gt; # Groups:   user_id [670]</span>
<span class="co">#&gt;   user_id             location                n</span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;               &lt;int&gt;</span>
<span class="co">#&gt; 1 1260813006          Redmond, WA           115</span>
<span class="co">#&gt; 2 764290456599396353  Rochester, New York    50</span>
<span class="co">#&gt; 3 1048404121206714369 &quot;&quot;                     23</span>
<span class="co">#&gt; 4 768973940605812737  Rochester, NY          17</span>
<span class="co">#&gt; 5 86155540            New York, New York     17</span>
<span class="co">#&gt; 6 578607700           New York City          11</span>
<span class="co">#&gt; # … with 664 more rows</span></code></pre></div>

</div>
</div>
</div>
<div id="writing-api-queries" class="section level2">
<h2><span class="header-section-number">17.4</span> Writing API Queries</h2>
<p>If no wrapper package is available, we have to write our own API query, and format the response ourslves using R. This is trickier, but definitely do-able.</p>
<p>In this unit, we'll practice constructing our own API queries using the New York Time's <code>Article API</code>. This API provides metadata (title, date, summary, etc) on all of New York Times articles.</p>
<p>Fortunately, this API is <a href="https://developer.nytimes.com/docs/articlesearch-product/1/overview">very well documented</a>!</p>
<p>You can even try it out <a href="http://developer.nytimes.com/io-docs">here</a>.</p>
<p>Load the following packages to get started:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(httr)
<span class="kw">library</span>(jsonlite)
<span class="kw">library</span>(lubridate)</code></pre></div>
<div id="constructing-the-api-get-request" class="section level3">
<h3><span class="header-section-number">17.4.1</span> Constructing the API GET Request</h3>
<p>Likely the most challenging part of using web APIs is learning how to format your GET request URLs. While there are common architectures for such URLs, each API has its own unique quirks. For this reason, carefully reviewing the API documentation is critical.</p>
<p>Most GET request URLs for API querying have three or four components:</p>
<ol style="list-style-type: decimal">
<li><p><em>Authenication Key/Token</em>: a user-specific character string appended to a base URL telling the server who is making the query; allows servers to efficiently manage database access</p></li>
<li><p><em>Base URL</em>: a link stub that will be at the beginning of all calls to a given API; points the server to the location of an entire database</p></li>
<li><p><em>Search Parameters</em>: a character string appended to a base URL that tells the server what to extract from the database; basically a series of filters used to point to specific parts of a database</p></li>
<li><p><em>Response Format</em>: a character string indicating how the response should be formatted; usually one of .csv, .json, or .xml</p></li>
</ol>
<p>Let's go ahead and store the these values as variables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">key &lt;-<span class="st"> &quot;Onz0BobMTn2IRJ7krcT5RXHknkGLqiaI&quot;</span>
base.url &lt;-<span class="st"> &quot;http://api.nytimes.com/svc/search/v2/articlesearch.json&quot;</span>
search_term &lt;-<span class="st"> &quot;John Mearsheimer&quot;</span></code></pre></div>
<p>How did I know the <code>base.url</code>? I read the <a href="https://developer.nytimes.com/docs/articlesearch-product/1/routes/articlesearch.json/get">documentation.</a>. Notice that this <code>base.url</code> also includes the <em>response format</em>(<code>.jston</code>), so we don't need to configure that directly.</p>
<p>We're ready to make the request. We can use the <code>GET</code> function from the <code>httr</code> package (another <code>tidyverse</code> package) to make an HTTP GET Request.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r &lt;-<span class="st"> </span><span class="kw">GET</span>(base.url, <span class="dt">query =</span> <span class="kw">list</span>(<span class="st">`</span><span class="dt">q</span><span class="st">`</span> =<span class="st"> </span>search_term,
                                <span class="st">`</span><span class="dt">api-key</span><span class="st">`</span> =<span class="st"> </span>key))</code></pre></div>
<p>Now, we have an object called <code>r</code>. We can get all the information we need from this object. For instance, we can see that the URL has been correctly encoded by printing the URL. Click on the link to see what happens.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">r<span class="op">$</span>url
<span class="co">#&gt; [1] &quot;http://api.nytimes.com/svc/search/v2/articlesearch.json?q=John%20Mearsheimer&amp;api-key=Onz0BobMTn2IRJ7krcT5RXHknkGLqiaI&quot;</span></code></pre></div>
<div id="challenge-1-adding-a-date-range" class="section level4 unnumbered">
<h4>Challenge 1: Adding a date range</h4>
<p>What if we only want to search within a particular date range? The NYT Article Api allows us to specify start and end dates.</p>
<p>Alter the <code>get.request</code> code above so that the request only searches for articles in the year 2005.</p>
<p>You're gonna need to look at the documentation here to see how to do this.</p>
</div>
<div id="challenge-2-specifying-a-results-page" class="section level4 unnumbered">
<h4>Challenge 2: Specifying a results page</h4>
<p>The above will return the first 10 results. To get the next ten, you need to add a &quot;page&quot; parameter. Change the search parameters above to get the second 10 resuls.</p>
</div>
</div>
<div id="parsing-the-response" class="section level3">
<h3><span class="header-section-number">17.4.2</span> Parsing the response</h3>
<p>We can read the content of the server’s response using the <code>content()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">response &lt;-<span class="st"> </span>httr<span class="op">::</span><span class="kw">content</span>(r, <span class="st">&quot;text&quot;</span>)
<span class="kw">substr</span>(response, <span class="dt">start =</span> <span class="dv">1</span>, <span class="dt">stop =</span> <span class="dv">1000</span>)
<span class="co">#&gt; [1] &quot;{\&quot;status\&quot;:\&quot;OK\&quot;,\&quot;copyright\&quot;:\&quot;Copyright (c) 2020 The New York Times Company. All Rights Reserved.\&quot;,\&quot;response\&quot;:{\&quot;docs\&quot;:[{\&quot;abstract\&quot;:\&quot;Dr John J Mearsheimer of University of Chicago and Dr Stephen M Walt of John F Kennedy School of Government at Harvard University publish controversial essay on relationship between United States and Israel; hold that relationship has made Americans target of terrorists and that pro-Israel lobby is extremely powerful in shaping US agenda; many news outlets and academics have condemned paper, but it has been praised in some areas of world; content of paper and debate over its merits discussed; photo (M)\&quot;,\&quot;web_url\&quot;:\&quot;https://www.nytimes.com/2006/04/12/education/essay-stirs-debate-about-influence-of-a-jewish-lobby.html\&quot;,\&quot;snippet\&quot;:\&quot;Dr John J Mearsheimer of University of Chicago and Dr Stephen M Walt of John F Kennedy School of Government at Harvard University publish controversial essay on relationship between United States and Israel; hold that relationship has &quot;</span></code></pre></div>
<p>What you see here is JSON text, encoded as plain text. JSON stands for &quot;Javascript object notation.&quot; Think of JSON like a nested array built on key/value pairs.</p>
<p>We want to convert the results from JSON format to something easier to work with -- notably a data frame.</p>
<p>The <strong>jsonlite</strong> package provides several easy conversion functions for moving between JSON and vectors, data.frames, and lists. Let's use the function <code>fromJSON</code> to convert this response into something we can work with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Convert JSON response to a dataframe</span>
response_df &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(response, <span class="dt">simplifyDataFrame =</span> <span class="ot">TRUE</span>, <span class="dt">flatten =</span> <span class="ot">TRUE</span>)

<span class="co"># Inspect the dataframe</span>
<span class="kw">str</span>(response_df, <span class="dt">max.level =</span> <span class="dv">2</span>)
<span class="co">#&gt; List of 3</span>
<span class="co">#&gt;  $ status   : chr &quot;OK&quot;</span>
<span class="co">#&gt;  $ copyright: chr &quot;Copyright (c) 2020 The New York Times Company. All Rights Reserved.&quot;</span>
<span class="co">#&gt;  $ response :List of 2</span>
<span class="co">#&gt;   ..$ docs:&#39;data.frame&#39;: 10 obs. of  27 variables:</span>
<span class="co">#&gt;   ..$ meta:List of 3</span></code></pre></div>
<p>That looks intimidating! But it's really just a big, nested list. Let's see what we got in there.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># see all items</span>
<span class="kw">names</span>(response_df)
<span class="co">#&gt; [1] &quot;status&quot;    &quot;copyright&quot; &quot;response&quot;</span>

<span class="co"># This is boring</span>
response_df<span class="op">$</span>status
<span class="co">#&gt; [1] &quot;OK&quot;</span>

<span class="co"># So is this</span>
response_df<span class="op">$</span>copyright
<span class="co">#&gt; [1] &quot;Copyright (c) 2020 The New York Times Company. All Rights Reserved.&quot;</span>

<span class="co"># This is what we want!</span>
<span class="kw">names</span>(response_df<span class="op">$</span>response)
<span class="co">#&gt; [1] &quot;docs&quot; &quot;meta&quot;</span></code></pre></div>
<p>Within <code>response_df$response</code>, we can extract a number of interesting results, including the number of total hits, as well as information on the first ten documents:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># What&#39;s in &#39;meta&#39;?</span>
response_df<span class="op">$</span>response<span class="op">$</span>meta
<span class="co">#&gt; $hits</span>
<span class="co">#&gt; [1] 1639296</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $offset</span>
<span class="co">#&gt; [1] 0</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $time</span>
<span class="co">#&gt; [1] 406</span>

<span class="co"># pull out number of hits</span>
response_df<span class="op">$</span>response<span class="op">$</span>meta<span class="op">$</span>hits
<span class="co">#&gt; [1] 1639296</span>

<span class="co"># Check out docs</span>
<span class="kw">names</span>(response_df<span class="op">$</span>response<span class="op">$</span>docs)
<span class="co">#&gt;  [1] &quot;abstract&quot;                &quot;web_url&quot;                </span>
<span class="co">#&gt;  [3] &quot;snippet&quot;                 &quot;lead_paragraph&quot;         </span>
<span class="co">#&gt;  [5] &quot;print_section&quot;           &quot;print_page&quot;             </span>
<span class="co">#&gt;  [7] &quot;source&quot;                  &quot;multimedia&quot;             </span>
<span class="co">#&gt;  [9] &quot;keywords&quot;                &quot;pub_date&quot;               </span>
<span class="co">#&gt; [11] &quot;document_type&quot;           &quot;news_desk&quot;              </span>
<span class="co">#&gt; [13] &quot;section_name&quot;            &quot;type_of_material&quot;       </span>
<span class="co">#&gt; [15] &quot;_id&quot;                     &quot;word_count&quot;             </span>
<span class="co">#&gt; [17] &quot;uri&quot;                     &quot;headline.main&quot;          </span>
<span class="co">#&gt; [19] &quot;headline.kicker&quot;         &quot;headline.content_kicker&quot;</span>
<span class="co">#&gt; [21] &quot;headline.print_headline&quot; &quot;headline.name&quot;          </span>
<span class="co">#&gt; [23] &quot;headline.seo&quot;            &quot;headline.sub&quot;           </span>
<span class="co">#&gt; [25] &quot;byline.original&quot;         &quot;byline.person&quot;          </span>
<span class="co">#&gt; [27] &quot;byline.organization&quot;</span>

<span class="co"># put it in another variable</span>
docs &lt;-<span class="st"> </span>response_df<span class="op">$</span>response<span class="op">$</span>docs</code></pre></div>
</div>
<div id="iteration-through-results-pager" class="section level3">
<h3><span class="header-section-number">17.4.3</span> Iteration through results pager</h3>
<p>That's great. But we only have 10 items. The original response said we had 168 hits! Which means we have to make 168 /10, or 17 requests to get them all. Sounds like a job for iteration!</p>
<p>First, let's write a function that passes a search term and a page number, and returns a dataframe of articles.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nytapi &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">term =</span> <span class="ot">NULL</span>, n){
    base.url =<span class="st"> &quot;http://api.nytimes.com/svc/search/v2/articlesearch.json&quot;</span> 
    key =<span class="st"> &quot;Onz0BobMTn2IRJ7krcT5RXHknkGLqiaI&quot;</span>
    
    <span class="co"># Send GET request</span>
    r &lt;-<span class="st"> </span><span class="kw">GET</span>(base.url, <span class="dt">query =</span> <span class="kw">list</span>(<span class="st">`</span><span class="dt">q</span><span class="st">`</span> =<span class="st"> </span>term,
                                  <span class="st">`</span><span class="dt">api-key</span><span class="st">`</span> =<span class="st"> </span>key,
                                  <span class="st">`</span><span class="dt">page</span><span class="st">`</span> =<span class="st"> </span>n))
    
    <span class="co"># Parse response to JSON</span>
    response &lt;-<span class="st"> </span>httr<span class="op">::</span><span class="kw">content</span>(r, <span class="st">&quot;text&quot;</span>)  
    response_df &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(response, <span class="dt">simplifyDataFrame =</span> T, <span class="dt">flatten =</span> T)
    
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Scraping page: &quot;</span>, <span class="kw">as.character</span>(n)))
    
    <span class="kw">return</span>(response_df<span class="op">$</span>response<span class="op">$</span>docs)
}

docs &lt;-<span class="st"> </span><span class="kw">nytapi</span>(<span class="st">&quot;John Mearsheimer&quot;</span>, <span class="dv">2</span>)
<span class="co">#&gt; [1] &quot;Scraping page:  2&quot;</span></code></pre></div>
<p>Now, we're ready to iterate over each page. First, let's review what've done so far:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set key and base</span>
base.url =<span class="st"> &quot;http://api.nytimes.com/svc/search/v2/articlesearch.json&quot;</span> 
key =<span class="st"> &quot;Onz0BobMTn2IRJ7krcT5RXHknkGLqiaI&quot;</span>
search_term =<span class="st"> &quot;John Mearsheimer&quot;</span> <span class="co">#change me</span>
  
<span class="co"># Send GET request</span>
r &lt;-<span class="st"> </span><span class="kw">GET</span>(base.url, <span class="dt">query =</span> <span class="kw">list</span>(<span class="st">`</span><span class="dt">fq</span><span class="st">`</span> =<span class="st"> </span>search_term,
                                <span class="st">`</span><span class="dt">api-key</span><span class="st">`</span> =<span class="st"> </span>key))
  
<span class="co"># Parse response to JSON</span>
response &lt;-<span class="st"> </span>httr<span class="op">::</span><span class="kw">content</span>(r, <span class="st">&quot;text&quot;</span>)  
response_df &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(response, <span class="dt">simplifyDataFrame =</span> T, <span class="dt">flatten =</span> T)

<span class="co"># extract hits -- BUGGGGG</span>
<span class="co"># hits = response_df$response$meta$hits </span>
hits =<span class="st"> </span><span class="dv">168</span>

<span class="co"># get number of pages</span>
pages =<span class="st"> </span><span class="kw">ceiling</span>(hits<span class="op">/</span><span class="dv">10</span>)

<span class="co"># modify function to sleep</span>
nytapi_slow &lt;-<span class="st"> </span><span class="kw">slowly</span>(nytapi, <span class="dt">rate =</span> <span class="kw">rate_delay</span>(<span class="dv">1</span>))

<span class="co"># iterate over pages, getting all docs</span>
docs_list &lt;-<span class="st"> </span><span class="kw">map</span>((<span class="dv">1</span><span class="op">:</span>pages), <span class="op">~</span><span class="kw">nytapi_slow</span>(<span class="dt">term =</span> search_term, <span class="dt">n =</span> .))
<span class="co">#&gt; [1] &quot;Scraping page:  1&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  2&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  3&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  4&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  5&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  6&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  7&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  8&quot;</span>
<span class="co">#&gt; [1] &quot;Scraping page:  9&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  10&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  11&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  12&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  13&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  14&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  15&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  16&quot;</span>
<span class="co">#&gt; No encoding supplied: defaulting to UTF-8.</span>
<span class="co">#&gt; [1] &quot;Scraping page:  17&quot;</span>

<span class="co"># flatten to create one bit dataframe</span>
docs_df &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(docs_list)</code></pre></div>
</div>
<div id="visualizing-results" class="section level3">
<h3><span class="header-section-number">17.4.4</span> Visualizing Results</h3>
<p>To figure out how John Mearsheimer's popularity is changing over time, all we need to do is add an indicator for the year and month each article was published in.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Format pub_date using lubridate</span>
docs_df<span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">ymd_hms</span>(docs_df<span class="op">$</span>pub_date)

by_month &lt;-<span class="st"> </span>docs_df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(<span class="kw">floor_date</span>(date, <span class="st">&quot;month&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">count  =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">month =</span> <span class="dv">1</span>)

by_month <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> month, <span class="dt">y =</span> count)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">xlab</span>(<span class="dt">label =</span> <span class="st">&quot;Date&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="dt">label =</span> <span class="st">&quot;Article Count&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">ggtitle</span>(<span class="dt">label =</span> <span class="st">&quot;Coverage of John Mearsheimer&quot;</span>)</code></pre></div>
<p><img src="site1_files/figure-html/unnamed-chunk-467-1.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="more-resources-1" class="section level3">
<h3><span class="header-section-number">17.4.5</span> More resources</h3>
<p>The documentation for httr includes two useful vignettes:</p>
<ol style="list-style-type: decimal">
<li><a href="https://cran.r-project.org/web/packages/httr/vignettes/quickstart.html">httr quickstart guide</a> - summarizes all the basic httr functions like above</li>
<li><a href="https://cran.r-project.org/web/packages/httr/vignettes/api-packages.html">Best practices for writing an API package</a> - document outlining the key issues involved in writing API wrappers in R</li>
</ol>

</div>
</div>
<div id="webscraping" class="section level2">
<h2><span class="header-section-number">17.5</span> Webscraping</h2>
<p>If no API is available, we can scrape a website directory. Webscraping has a number of benefits and challenges compared to APIs:</p>
<p><strong>Webscraping Benefits</strong></p>
<ul>
<li>Any content that can be viewed on a webpage can be scraped. <a href="https://blog.hartleybrody.com/web-scraping/">Period</a></li>
<li>No API needed</li>
<li>No rate-limiting or authentication (usually)</li>
</ul>
<p><strong>Webscraping Challenges</strong></p>
<ul>
<li>Rarely tailored for researchers</li>
<li>Messy, unstructured, inconsistent</li>
<li>Entirely site-dependent</li>
</ul>
<div id="some-disclaimers" class="section level4 unnumbered">
<h4>Some Disclaimers</h4>
<ul>
<li>Check a site's terms and conditions before scraping.</li>
<li>Be nice - don't hammer the site's server. Review <a href="https://towardsdatascience.com/ethics-in-web-scraping-b96b18136f01">these ethical webscraping tips</a></li>
<li>Sites change their layout all the time. Your scraper will break.</li>
</ul>
</div>
<div id="whats-a-website" class="section level3">
<h3><span class="header-section-number">17.5.1</span> What's a website?</h3>
<p>A website is some combination of codebase and database. The &quot;front end&quot; product is HTML + CSS stylesheets + javascript, looking something like this:</p>
<p><img src="img/html.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Your browser turns that into a nice layout. <img src="img/layout.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="html" class="section level3">
<h3><span class="header-section-number">17.5.2</span> HTML</h3>
<p>The core of a website is <strong>HTML</strong> (Hyper Text Markup Language.) HTML is composed of a tree of HTML _nodes<strong>elements</strong>, such as headers, paragraphs, etc.</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
    <span class="kw">&lt;head&gt;</span>
        <span class="kw">&lt;title&gt;</span>Page title<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;/head&gt;</span>
    <span class="kw">&lt;body&gt;</span>
        <span class="kw">&lt;p&gt;</span>Hello world!<span class="kw">&lt;/p&gt;</span>
    <span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre></div>
<p>HTML elements can contain other elements:</p>
<p><img src="img/HTMLDOMTree.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Generally speaking, an HTML element has three components:</p>
<ol style="list-style-type: decimal">
<li>Tags (starting and ending the element)</li>
<li>Atributes (giving information about the element)</li>
<li>Text, or Content (the text inside the element)</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="dt">path =</span> <span class="st">&quot;img/html-element.png&quot;</span>)</code></pre></div>
<p><img src="img/html-element.png" width="70%" style="display: block; margin: auto;" /></p>
<div id="html-tags" class="section level4 unnumbered">
<h4>HTML: Tags</h4>
<p><img src="img/html-tags.png" width="70%" style="display: block; margin: auto;" /></p>
<p><strong>Common HTML tags</strong></p>
<table>
<thead>
<tr class="header">
<th>Tag</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;head&gt;</code></td>
<td>page header (metadata, etc</td>
</tr>
<tr class="even">
<td><code>&lt;body&gt;</code></td>
<td>holds all of the content</td>
</tr>
<tr class="odd">
<td><code>&lt;p&gt;</code></td>
<td>regular text (paragraph)</td>
</tr>
<tr class="even">
<td><code>&lt;h1&gt;</code>,<code>&lt;h2&gt;</code>,<code>&lt;h3&gt;</code></td>
<td>header text, levels 1, 2, 3</td>
</tr>
<tr class="odd">
<td><code>ol,</code>,<code>&lt;ul&gt;</code>,<code>&lt;li&gt;</code></td>
<td>ordered list, unordered list, list item</td>
</tr>
<tr class="even">
<td><code>&lt;a href=&quot;page.html&quot;&gt;</code></td>
<td>link to &quot;page.html&quot;</td>
</tr>
<tr class="odd">
<td><code>&lt;table&gt;</code>,<code>&lt;tr&gt;</code>,<code>&lt;td&gt;</code></td>
<td>table, table row, table item</td>
</tr>
<tr class="even">
<td><code>&lt;div&gt;</code>,<code>&lt;span</code></td>
<td>general containers</td>
</tr>
</tbody>
</table>
</div>
<div id="html-attributes" class="section level4 unnumbered">
<h4>HTML Attributes</h4>
<ul>
<li>HTML elements can have attributes.</li>
<li>Attributes provide additional information about an element.</li>
<li>Attributes are always specified in the start tag.</li>
<li>Attributes come in name/value pairs like: name=&quot;value&quot;</li>
</ul>
<p><img src="img/html-attributes.png" width="70%" style="display: block; margin: auto;" /></p>
<ul>
<li>Sometimes we can find the data we want just by using HTML tags or attributes (e.g, all the <code>&lt;a&gt;</code> tags)</li>
<li>More often, this isn't enough: There might be 1000 <code>&lt;a&gt;</code> tags on a page. But maybe we want only the <code>&lt;a&gt;</code> tags <em>inside</em> of a <code>&lt;p&gt;</code> tag.</li>
<li>Enter CSS</li>
</ul>
</div>
</div>
<div id="css" class="section level3">
<h3><span class="header-section-number">17.5.3</span> CSS</h3>
<p>CSS stands for <strong>Cascading Style Sheet</strong>. CSS defines how HTML elements are to be displayed.</p>
<p>HTML came first. But it was only meant to define content, not format it. While HTML contains tags like <code>&lt;font&gt;</code> and <code>&lt;color&gt;</code>, this is a very inefficient way to develop a website.</p>
<p>To solve this problem, CSS was created specifically to display content on a webpage. Now, one can change the look of an entire website just by changing one file.</p>
<p>Most web designers litter the HTML markup with tons of <code>class</code>es and <code>id</code>s to provide &quot;hooks&quot; for their CSS.</p>
<p>You can piggyback on these to jump to the parts of the markup that contain the data you need.</p>
<div id="css-anatomy" class="section level4 unnumbered">
<h4>CSS Anatomy</h4>
<ul>
<li>Selectors
<ul>
<li>Element selector: <code>p</code></li>
<li>Class selector: <code>p class=&quot;blue&quot;</code></li>
<li>I.D. selector: <code>p id=&quot;blue&quot;</code></li>
</ul></li>
<li>Declarations
<ul>
<li>Selector: <code>p</code></li>
<li>Property: <code>background-color</code></li>
<li>Value: <code>yellow</code></li>
</ul></li>
<li>Hooks</li>
</ul>
<p><img src="img/css-rule-2.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="css-html" class="section level4">
<h4><span class="header-section-number">17.5.3.1</span> CSS + HTML</h4>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;table</span><span class="ot"> id=</span><span class="st">&quot;content&quot;</span><span class="kw">&gt;</span>
        <span class="kw">&lt;tr</span><span class="ot"> class=</span><span class="st">&#39;name&#39;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;td</span><span class="ot"> class=</span><span class="st">&#39;firstname&#39;</span><span class="kw">&gt;</span>
                Kurtis
            <span class="kw">&lt;/td&gt;</span>
            <span class="kw">&lt;td</span><span class="ot"> class=</span><span class="st">&#39;lastname&#39;</span><span class="kw">&gt;</span>
                McCoy
            <span class="kw">&lt;/td&gt;</span>
        <span class="kw">&lt;/tr&gt;</span>
        <span class="kw">&lt;tr</span><span class="ot"> class=</span><span class="st">&#39;name&#39;</span><span class="kw">&gt;</span>
            <span class="kw">&lt;td</span><span class="ot"> class=</span><span class="st">&#39;firstname&#39;</span><span class="kw">&gt;</span>
                Leah
            <span class="kw">&lt;/td&gt;</span>
            <span class="kw">&lt;td</span><span class="ot"> class=</span><span class="st">&#39;lastname&#39;</span><span class="kw">&gt;</span>
                Guerrero
            <span class="kw">&lt;/td&gt;</span>
        <span class="kw">&lt;/tr&gt;</span>
    <span class="kw">&lt;/table&gt;</span>
<span class="kw">&lt;/body&gt;</span></code></pre></div>
</div>
<div id="challenge-1-2" class="section level4 unnumbered">
<h4>Challenge 1</h4>
<p>Find the CSS selectors for the following elements in the HTML above.</p>
<p>(Hint: There will be multiple solutions for each)</p>
<ol style="list-style-type: decimal">
<li>The entire table</li>
<li>The row containing &quot;Kurtis McCoy&quot;</li>
<li>Just the element containing first names</li>
</ol>
</div>
</div>
<div id="finding-elements-with-selector-gadget" class="section level3">
<h3><span class="header-section-number">17.5.4</span> Finding Elements with Selector Gadget</h3>
<p>Selector Gadget is a browser plugin to help you find HTML elements. Install Selector Gadget on your browser by following <a href="https://selectorgadget.com/">these instructions</a>.</p>
<p>Once installed, run Selector Gadget and simply click on the type of information you want to select from the webpage. Once this is selected, you can then click the pieces of information you <strong>don't</strong> want to keep. Do this until only the pieces you want to keep remain highlighted, then copy the selector from the bottom pane.</p>
<p>Here's the basic strategy of webscraping:</p>
<ol style="list-style-type: decimal">
<li>Use Selector Gadget to see how your data is structured</li>
<li>Pay attention to HTML tags and CSS selectors</li>
<li>Pray that there is some kind of pattern</li>
<li>Use R and add-on modules like <code>RVest</code> to extract just that data.</li>
</ol>
<div id="challenge-2-2" class="section level4 unnumbered">
<h4>Challenge 2</h4>
<p>Go to <a href="http://rochelleterman.github.io/" class="uri">http://rochelleterman.github.io/</a>. Using Selector Gadget,</p>
<ol style="list-style-type: decimal">
<li>Find the CSS selector capturing all rows in the table.</li>
<li>Find the image source URL.</li>
<li>Find the HREF attribute of the link.</li>
</ol>

</div>
</div>
</div>
<div id="scraping-presidential-statements" class="section level2">
<h2><span class="header-section-number">17.6</span> Scraping Presidential Statements</h2>
<p>To demonstrate webscraping in R, we're going to collect records on presidential statements here: <a href="https://www.presidency.ucsb.edu/" class="uri">https://www.presidency.ucsb.edu/</a></p>
<p>Let's say we're interested in how presidents speak about &quot;space exploration&quot;. On the website, we punch in this search term, and we get the <a href="https://www.presidency.ucsb.edu/advanced-search?field-keywords=%22space+exploration%22&amp;field-keywords2=&amp;field-keywords3=&amp;from%5Bdate%5D=&amp;to%5Bdate%5D=&amp;person2=&amp;items_per_page=100">following 295 results</a>.</p>
<p>Our goal is to scrape these records, and store pertenant information in a dataframe. We will be doing this in two steps:</p>
<ol style="list-style-type: decimal">
<li>Write a function to scrape each individual record page (these notes).</li>
<li>Use this function to loop through all results, and collect all pages (homework).</li>
</ol>
<p>Load the following packages to get started:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(rvest)
<span class="kw">library</span>(stringr)
<span class="kw">library</span>(purrr)
<span class="kw">library</span>(knitr)</code></pre></div>
<div id="using-rvest-to-read-html" class="section level3">
<h3><span class="header-section-number">17.6.1</span> Using <code>RVest</code> to Read HTML</h3>
<p>The package <code>RVest</code> allows us to:</p>
<ol style="list-style-type: decimal">
<li>Collect the HTML source code of a webpage</li>
<li>Read the HTML of the page</li>
<li>Select and keep certain elements of the page that are of interest</li>
</ol>
<p>Let's start with step one. We use the <code>read_html</code> function to call the results URL and grab the HTML response. Store this result as an object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">document1 &lt;-<span class="st"> </span><span class="kw">read_html</span>(<span class="st">&quot;https://www.presidency.ucsb.edu/documents/special-message-the-congress-relative-space-science-and-exploration&quot;</span>)

<span class="co">#Let&#39;s take a look at the object we just created</span>
document1
<span class="co">#&gt; {html_document}</span>
<span class="co">#&gt; &lt;html lang=&quot;en&quot; dir=&quot;ltr&quot; prefix=&quot;content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema#&quot;&gt;</span>
<span class="co">#&gt; [1] &lt;head profile=&quot;http://www.w3.org/1999/xhtml/vocab&quot;&gt;\n&lt;meta charset=&quot;utf-8 ...</span>
<span class="co">#&gt; [2] &lt;body class=&quot;html not-front not-logged-in one-sidebar sidebar-first page- ...</span></code></pre></div>
<p>This is pretty messy. We need to use <code>RVest</code> to make this information more useable.</p>
</div>
<div id="find-page-elements" class="section level3">
<h3><span class="header-section-number">17.6.2</span> Find Page Elements</h3>
<p><code>RVest</code> has a number of functions to find information on a page. Like other webscraping tools, RVest lets you find elements by their:</p>
<ol style="list-style-type: decimal">
<li>HTML tags</li>
<li>HTML Attributes</li>
<li>CSS Selectors</li>
</ol>
<p>Let's search first for HTML tags.</p>
<p>The function <code>html_nodes</code> searches a parsed HTML object to find all the elements with a particular HTML tag, and returns all of those elements.</p>
<p>What does the example below do?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">html_nodes</span>(document1, <span class="st">&quot;a&quot;</span>)
<span class="co">#&gt; {xml_nodeset (75)}</span>
<span class="co">#&gt;  [1] &lt;a href=&quot;#main-content&quot; class=&quot;element-invisible element-focusable&quot;&gt;Skip ...</span>
<span class="co">#&gt;  [2] &lt;a href=&quot;https://www.presidency.ucsb.edu/&quot;&gt;The American Presidency Proje ...</span>
<span class="co">#&gt;  [3] &lt;a class=&quot;btn btn-default&quot; href=&quot;https://www.presidency.ucsb.edu/about&quot;&gt; ...</span>
<span class="co">#&gt;  [4] &lt;a class=&quot;btn btn-default&quot; href=&quot;/advanced-search&quot;&gt;&lt;span class=&quot;glyphico ...</span>
<span class="co">#&gt;  [5] &lt;a href=&quot;https://www.ucsb.edu/&quot; target=&quot;_blank&quot;&gt;&lt;img alt=&quot;ucsb wordmark  ...</span>
<span class="co">#&gt;  [6] &lt;a href=&quot;/documents&quot; class=&quot;active-trail dropdown-toggle&quot; data-toggle=&quot;d ...</span>
<span class="co">#&gt;  [7] &lt;a href=&quot;/documents/presidential-documents-archive-guidebook&quot;&gt;Guidebook&lt;/a&gt;</span>
<span class="co">#&gt;  [8] &lt;a href=&quot;/documents/category-attributes&quot;&gt;Category Attributes&lt;/a&gt;</span>
<span class="co">#&gt;  [9] &lt;a href=&quot;/statistics&quot;&gt;Statistics&lt;/a&gt;</span>
<span class="co">#&gt; [10] &lt;a href=&quot;/media&quot; title=&quot;&quot;&gt;Media Archive&lt;/a&gt;</span>
<span class="co">#&gt; [11] &lt;a href=&quot;/presidents&quot; title=&quot;&quot;&gt;Presidents&lt;/a&gt;</span>
<span class="co">#&gt; [12] &lt;a href=&quot;/analyses&quot; title=&quot;&quot;&gt;Analyses&lt;/a&gt;</span>
<span class="co">#&gt; [13] &lt;a href=&quot;https://giving.ucsb.edu/Funds/Give?id=185&quot; title=&quot;&quot;&gt;GIVE&lt;/a&gt;</span>
<span class="co">#&gt; [14] &lt;a href=&quot;/documents/presidential-documents-archive-guidebook&quot; title=&quot;&quot;&gt;A ...</span>
<span class="co">#&gt; [15] &lt;a href=&quot;/documents&quot; title=&quot;&quot; class=&quot;active-trail&quot;&gt;Categories&lt;/a&gt;</span>
<span class="co">#&gt; [16] &lt;a href=&quot;/documents/category-attributes&quot; title=&quot;&quot;&gt;Attributes&lt;/a&gt;</span>
<span class="co">#&gt; [17] &lt;a href=&quot;/documents/app-categories/presidential&quot; title=&quot;Presidential (73 ...</span>
<span class="co">#&gt; [18] &lt;a href=&quot;/documents/app-categories/spoken-addresses-and-remarks/presiden ...</span>
<span class="co">#&gt; [19] &lt;a href=&quot;/documents/app-categories/spoken-addresses-and-remarks/presiden ...</span>
<span class="co">#&gt; [20] &lt;a href=&quot;/documents/app-categories/written-presidential-orders/president ...</span>
<span class="co">#&gt; ...</span></code></pre></div>
<p>That's a lot of results! Many elements on a page will have the same HTML tag. For instance, if you search for everything with the <code>a</code> tag, you're likely to get a lot of stuff, much of which you don't want.</p>
<p>In our case, we only want the links corresponding to the speaker Dwight D. Eisenhower.</p>
<p><img src="img/scraping-links.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Using selector gadget, we found out that the CSS selector for document's speaker is <code>.diet-title a</code>.</p>
<p>We can then modify our argument in <code>html_nodes</code> to look for this more specific CSS selector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">html_nodes</span>(document1, <span class="st">&quot;.diet-title a&quot;</span>)
<span class="co">#&gt; {xml_nodeset (1)}</span>
<span class="co">#&gt; [1] &lt;a href=&quot;/people/president/dwight-d-eisenhower&quot;&gt;Dwight D. Eisenhower&lt;/a&gt;</span></code></pre></div>
</div>
<div id="get-attributes-and-text-of-elements" class="section level3">
<h3><span class="header-section-number">17.6.3</span> Get Attributes and Text of Elements</h3>
<p>Once we identify elements, we want to access information in that element. Oftentimes this means two things:</p>
<ol style="list-style-type: decimal">
<li>Text</li>
<li>Attributes</li>
</ol>
<p>Getting the text inside an element is pretty straightforward. We can use the <code>html_text()</code> command inside of <code>RVest</code> to get the text of an element:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Scrape individual document page</span>
document1 &lt;-<span class="st"> </span><span class="kw">read_html</span>(<span class="st">&quot;https://www.presidency.ucsb.edu/documents/special-message-the-congress-relative-space-science-and-exploration&quot;</span>)

<span class="co">#identify element with Speaker name</span>
speaker &lt;-<span class="st"> </span><span class="kw">html_nodes</span>(document1, <span class="st">&quot;.diet-title a&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">html_text</span>() <span class="co">#select text of element</span>

speaker
<span class="co">#&gt; [1] &quot;Dwight D. Eisenhower&quot;</span></code></pre></div>
<p>You can access a tag's attributes using <code>html_attr</code>. For example, we often want to get a URL from an <code>a</code> (link) element. This is the URL is the link &quot;points&quot; to. It's contained in the attribut <code>href</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">speaker_link &lt;-<span class="st"> </span><span class="kw">html_nodes</span>(document1, <span class="st">&quot;.diet-title a&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">html_attr</span>(<span class="st">&quot;href&quot;</span>)

speaker_link
<span class="co">#&gt; [1] &quot;/people/president/dwight-d-eisenhower&quot;</span></code></pre></div>
</div>
<div id="lets-do-this." class="section level3">
<h3><span class="header-section-number">17.6.4</span> Let's DO this.</h3>
<p>Believe it or not, that's all you need to scrape a website. Let's apply these skills to scrape a sample document from the UCSB website -- the <a href="%22http://www.presidency.ucsb.edu/documents/letter-t-keith-glennan-administrator-national-aeronautics-and-space-administration%22">first item in our search results</a>.</p>
<p>We'll collect the document's date, speaker, title, and full text.</p>
<ol style="list-style-type: decimal">
<li>Date</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">document1 &lt;-<span class="st"> </span><span class="kw">read_html</span>(<span class="st">&quot;https://www.presidency.ucsb.edu/documents/special-message-the-congress-relative-space-science-and-exploration&quot;</span>)

date &lt;-<span class="st"> </span><span class="kw">html_nodes</span>(document1, <span class="st">&quot;.date-display-single&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">html_text</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># grab element text</span>
<span class="st">  </span><span class="kw">mdy</span>() <span class="co">#format using lubridate</span>
date
<span class="co">#&gt; [1] &quot;1958-04-02&quot;</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Speaker</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Speaker</span>
speaker &lt;-<span class="st"> </span><span class="kw">html_nodes</span>(document1, <span class="st">&quot;.diet-title a&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">html_text</span>()
speaker
<span class="co">#&gt; [1] &quot;Dwight D. Eisenhower&quot;</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Title</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Title</span>
title &lt;-<span class="st"> </span><span class="kw">html_nodes</span>(document1, <span class="st">&quot;h1&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">html_text</span>()
title
<span class="co">#&gt; [1] &quot;Special Message to the Congress Relative to Space Science and Exploration.&quot;</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Text</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Text</span>
text &lt;-<span class="st"> </span><span class="kw">html_nodes</span>(document1, <span class="st">&quot;div.field-docs-content&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">          </span><span class="kw">html_text</span>()

<span class="co">#this is a long document, so let&#39;s just display the first 1000 characters</span>
text <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">substr</span>(<span class="dv">1</span>, <span class="dv">1000</span>) 
<span class="co">#&gt; [1] &quot;\n    To the Congress of the United States:\nRecent developments in long-range rockets for military purposes have for the first time provided man with new machinery so powerful that it can put satellites into orbit, and eventually provide the means for space exploration. The United States of America and the Union of Soviet Socialist Republics have already successfully placed in orbit a number of earth satellites. In fact, it is now within the means of any technologically advanced nation to embark upon practicable programs for exploring outer space. The early enactment of appropriate legislation will help assure that the United States takes full advantage of the knowledge of its scientists, the skill of its engineers and technicians, and the resourcefulness of its industry in meeting the challenges of the space age.\nDuring the past several months my Special Assistant for Science and Technology and the President&#39;s Science Advisory Committee, of which he is the Chairman, have been conductin&quot;</span></code></pre></div>
</div>
<div id="challenge-1-make-a-function" class="section level3">
<h3><span class="header-section-number">17.6.5</span> Challenge 1: Make a function</h3>
<p>Make a function called <code>scrape_docs</code> that accepts a URL of an individual document, scrapes the page, and returns a list containing the document's date, speaker, title, and full text.</p>
<p>This involves:</p>
<ul>
<li>Requesting the HTML of the webpage using the full URL and RVest.</li>
<li>Using RVest to locate all elements on the page we want to save.</li>
<li>Storing each of these items into a list.</li>
<li>Returning this list.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">scrape_docs &lt;-<span class="st"> </span><span class="cf">function</span>(URL){

  <span class="co"># YOUR CODE HERE</span>
  
}

<span class="co"># uncomment to test</span>
<span class="co"># scrape_doc(&quot;https://www.presidency.ucsb.edu/documents/letter-t-keith-glennan-administrator-national-aeronautics-and-space-administration&quot;)</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="programming-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="text-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rochelleterman/plsc-31101/edit/master/14-Web/14-1_APIs.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["https://github.com/rochelleterman/plsc-31101/raw/master/14-Web/14-1_APIs.Rmd"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
